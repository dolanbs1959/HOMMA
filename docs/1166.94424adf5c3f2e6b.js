"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1166],{1166:(ae,f,c)=>{c.r(f),c.d(f,{HomePageModule:()=>ne});var g=c(6814),s=c(849),l=c(6223),_=c(4408),e=c(9212),x=c(6861),k=c(3076),M=c(2471),Z=c(9873),O=c(2496);let q=(()=>{var n;class r{transform(o){if(!o)return"0";if("number"==typeof o)return o.toString();if("string"==typeof o){const i=document.createElement("div");i.innerHTML=o;const a=i.textContent||i.innerText||"",d=parseFloat(a.trim());return isNaN(d)?a.trim()||"0":d.toString()}return"0"}}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275pipe=e.Yjl({name:"stripHtml",type:n,pure:!0}),r})();function T(n,r){1&n&&(e.TgZ(0,"div",6),e._UZ(1,"ion-spinner",43),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function C(n,r){if(1&n&&(e.TgZ(0,"div",50)(1,"div",45)(2,"div",46)(3,"span",47),e._uU(4,"Clients <210d"),e.qZA(),e.TgZ(5,"span",48),e._uU(6),e.qZA()(),e.TgZ(7,"div",46)(8,"span",47),e._uU(9,"Clients >210d"),e.qZA(),e.TgZ(10,"span",48),e._uU(11),e.qZA()(),e.TgZ(12,"div",46)(13,"span",47),e._uU(14,"1-on-1s (CM)"),e.qZA(),e.TgZ(15,"span",48),e._uU(16),e.ALo(17,"stripHtml"),e.qZA()()(),e.TgZ(18,"div",45)(19,"div",46)(20,"span",47),e._uU(21,"Observations (CM)"),e.qZA(),e.TgZ(22,"span",48),e._uU(23),e.ALo(24,"stripHtml"),e.qZA()(),e.TgZ(25,"div",46)(26,"span",47),e._uU(27,"Negative Obs"),e.qZA(),e.TgZ(28,"span",51),e._uU(29),e.ALo(30,"stripHtml"),e.qZA()(),e.TgZ(31,"div",46)(32,"span",47),e._uU(33,"All-Time Obs"),e.qZA(),e.TgZ(34,"span",48),e._uU(35),e.ALo(36,"stripHtml"),e.qZA()()(),e.TgZ(37,"div",45)(38,"div",46)(39,"span",47),e._uU(40,"Meetings (7d)"),e.qZA(),e.TgZ(41,"span",48),e._uU(42),e.qZA()(),e.TgZ(43,"div",46)(44,"span",47),e._uU(45,"Present (30d)"),e.qZA(),e.TgZ(46,"span",48),e._uU(47),e.qZA()(),e.TgZ(48,"div",46)(49,"span",47),e._uU(50,"Absent (30d)"),e.qZA(),e.TgZ(51,"span",48),e._uU(52),e.qZA()()()()),2&n){const t=e.oxw(3);e.xp6(6),e.Oqu(t.houseKPIs.activeClientsUnder210Days),e.xp6(5),e.Oqu(t.houseKPIs.activeClientsOver210Days),e.xp6(5),e.Oqu(e.lcZ(17,9,t.houseKPIs.currentMonthOneOnOnes)),e.xp6(7),e.Oqu(e.lcZ(24,11,t.houseKPIs.allObservationsThisMonth)),e.xp6(6),e.Oqu(e.lcZ(30,13,t.houseKPIs.negativeObservationsThisMonth)),e.xp6(6),e.Oqu(e.lcZ(36,15,t.houseKPIs.allTimeObservations)),e.xp6(7),e.Oqu(t.houseKPIs.houseMeetingsLast7Days),e.xp6(5),e.Oqu(t.houseKPIs.presentAtMeetingLast30Days),e.xp6(5),e.Oqu(t.houseKPIs.absentAtMeetingLast30Days)}}function A(n,r){if(1&n&&(e.TgZ(0,"div",44)(1,"div",45)(2,"div",46)(3,"span",47),e._uU(4,"Beds"),e.qZA(),e.TgZ(5,"span",48),e._uU(6),e.qZA()(),e.TgZ(7,"div",46)(8,"span",47),e._uU(9,"Arrivals (30d)"),e.qZA(),e.TgZ(10,"span",48),e._uU(11),e.qZA()(),e.TgZ(12,"div",46)(13,"span",47),e._uU(14,"Departures (30d)"),e.qZA(),e.TgZ(15,"span",48),e._uU(16),e.qZA()()(),e.YNc(17,C,53,17,"div",49),e.qZA()),2&n){const t=e.oxw(2);e.xp6(6),e.AsE("",t.houseKPIs.occupiedBeds,"/",t.houseKPIs.activeBeds,""),e.xp6(5),e.Oqu(t.houseKPIs.arrivalsLast30Days),e.xp6(5),e.Oqu(t.houseKPIs.departuresLast30Days),e.xp6(),e.Q6J("ngIf",t.showKPIDetails)}}function y(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card",41)(1,"ion-card-header",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleKPIDetails())}),e.TgZ(2,"ion-card-title",18),e._uU(3," House KPIs "),e._UZ(4,"ion-icon",19),e.qZA()(),e.TgZ(5,"ion-card-content"),e.YNc(6,T,4,0,"div",15)(7,A,18,5,"div",42),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("name",t.showKPIDetails?"chevron-up":"chevron-down"),e.xp6(2),e.Q6J("ngIf",t.isLoadingKPIs),e.xp6(),e.Q6J("ngIf",t.houseKPIs&&!t.isLoadingKPIs)}}function H(n,r){if(1&n&&e._UZ(0,"img",54),2&n){const t=e.oxw().$implicit;e.Q6J("src",t.residentPhoto,e.LSH)}}function U(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card")(1,"ion-card-content")(2,"a",52),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.navigateToDetail(a.recordNumber2.value,!1,a.residentFullName.value))}),e.YNc(3,H,1,1,"img",53),e.TgZ(4,"p"),e._uU(5),e.qZA()()()()}if(2&n){const t=r.$implicit;e.xp6(3),e.Q6J("ngIf",t.residentPhoto),e.xp6(2),e.Oqu(t.residentFullName.value)}}function w(n,r){1&n&&(e.TgZ(0,"ion-card-title",6),e._uU(1,"Pending New Arrivals"),e.qZA())}function N(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card")(1,"ion-card-content")(2,"a",52),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.navigateToDetail(a.recordNumber2.value,!0,a.residentFullName.value))}),e._UZ(3,"div",55),e.ALo(4,"date"),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(3),e.Q6J("innerHTML",t.residentFullName.value+" - Age: "+t.residentAge.value+" - Level: "+t.SOLevel.value+" - PRD: "+(t.PRD.value?e.xi3(4,1,t.PRD.value,"MM-dd-yyyy"):"TBD"),e.oJD)}}function I(n,r){1&n&&(e.TgZ(0,"div",6),e._UZ(1,"ion-spinner",43),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function S(n,r){1&n&&(e.TgZ(0,"div")(1,"p"),e._uU(2,"No open or scheduled transportation requests."),e.qZA()())}function R(n,r){if(1&n&&(e.TgZ(0,"p")(1,"strong"),e._uU(2,"Notes:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.notes,"")}}function L(n,r){if(1&n&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h3"),e._uU(3),e.qZA(),e.TgZ(4,"p")(5,"strong"),e._uU(6,"Purpose:"),e.qZA(),e._uU(7),e.ALo(8,"date"),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"p")(11,"strong"),e._uU(12,"Pickup:"),e.qZA(),e._uU(13),e.TgZ(14,"strong"),e._uU(15,"Destination:"),e.qZA(),e._uU(16),e.qZA(),e.YNc(17,R,4,1,"p",20),e.qZA()()),2&n){const t=r.$implicit;e.xp6(3),e.hij("Request #",t.id,""),e.xp6(4),e.lnq(" ",t.purpose," \u2014 ",e.xi3(8,7,t.dateRequested,"M/d/yy")," @ ",e.xi3(9,10,t.dateRequested,"h:mm a"),""),e.xp6(6),e.hij(" ",t.pickupName||t.pickupId||"N/A"," \u2192 "),e.xp6(3),e.hij(" ",t.destinationName||t.destinationId||"N/A",""),e.xp6(),e.Q6J("ngIf",t.notes)}}function J(n,r){if(1&n&&(e.TgZ(0,"div",57)(1,"div",58),e._uU(2),e.qZA(),e._UZ(3,"hr",59),e.TgZ(4,"ion-list"),e.YNc(5,L,18,13,"ion-item",14),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.hij("Scheduled (",t.scheduledRequests.length,")"),e.xp6(3),e.Q6J("ngForOf",t.scheduledRequests)}}function D(n,r){if(1&n&&(e.TgZ(0,"p")(1,"strong"),e._uU(2,"Notes:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.notes,"")}}function F(n,r){if(1&n&&(e.TgZ(0,"ion-item")(1,"ion-label")(2,"h3"),e._uU(3),e.qZA(),e.TgZ(4,"p")(5,"strong"),e._uU(6,"Purpose:"),e.qZA(),e._uU(7),e.ALo(8,"date"),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"p")(11,"strong"),e._uU(12,"Pickup:"),e.qZA(),e._uU(13),e.TgZ(14,"strong"),e._uU(15,"Destination:"),e.qZA(),e._uU(16),e.qZA(),e.YNc(17,D,4,1,"p",20),e.qZA()()),2&n){const t=r.$implicit;e.xp6(3),e.hij("Request #",t.id,""),e.xp6(4),e.lnq(" ",t.purpose," \u2014 ",e.xi3(8,7,t.dateRequested,"M/d/yy")," @ ",e.xi3(9,10,t.dateRequested,"h:mm a"),""),e.xp6(6),e.hij(" ",t.pickupName||t.pickupId||"N/A"," \u2192 "),e.xp6(3),e.hij(" ",t.destinationName||t.destinationId||"N/A",""),e.xp6(),e.Q6J("ngIf",t.notes)}}function K(n,r){if(1&n&&(e.TgZ(0,"div",57)(1,"div",58),e._uU(2),e.qZA(),e._UZ(3,"hr",59),e.TgZ(4,"ion-list"),e.YNc(5,F,18,13,"ion-item",14),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.hij("Open (",t.openRequests.length,")"),e.xp6(3),e.Q6J("ngForOf",t.openRequests)}}function Q(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,J,6,2,"div",56)(2,K,6,2,"div",56),e.qZA()),2&n){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",t.scheduledRequests.length>0),e.xp6(),e.Q6J("ngIf",t.openRequests.length>0)}}function Y(n,r){if(1&n&&(e.TgZ(0,"ion-card-content"),e.YNc(1,I,4,0,"div",15)(2,S,3,0,"div",20)(3,Q,3,2,"div",20),e.qZA()),2&n){const t=e.oxw();e.xp6(),e.Q6J("ngIf",t.isLoadingTransportRequests),e.xp6(),e.Q6J("ngIf",!(t.isLoadingTransportRequests||t.transportRequests&&0!==t.transportRequests.length)),e.xp6(),e.Q6J("ngIf",!t.isLoadingTransportRequests&&(t.scheduledRequests.length>0||t.openRequests.length>0))}}const j=(n,r)=>({"success-message":n,"error-message":r});function z(n,r){if(1&n&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",e.WLB(2,j,t.feedbackMessage.includes("successfully"),t.feedbackMessage.includes("Error"))),e.xp6(),e.hij(" ",t.feedbackMessage," ")}}function E(n,r){if(1&n&&(e.TgZ(0,"ion-select-option",61),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.userId),e.xp6(),e.hij(" ",t.name," ")}}function B(n,r){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",55),e.qZA()),2&n){const t=r.$implicit;e.xp6(),e.Q6J("innerHTML",(null==t[6]?null:t[6].value)||"",e.oJD)}}function G(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,B,2,1,"div",14),e.qZA()),2&n){const t=e.oxw();e.xp6(),e.Q6J("ngForOf",t.announcements.slice().reverse())}}function V(n,r){1&n&&(e.TgZ(0,"div")(1,"p"),e._uU(2,"No announcements available."),e.qZA()())}const b=n=>({"background-color":n,color:"white"}),X=[{path:"",component:(()=>{var n;class r{constructor(o,i,a,d,u,p,h){this.quickbaseService=o,this.route=i,this.router=a,this.formBuilder=d,this.userService=u,this.themeService=p,this.logger=h,this.HouseLeaderName="",this.theHouseName="",this.HLphone="",this.residentPhoto="",this.residentFullName="",this.savedRecordNumber=0,this.weeklyHouseMeeting="",this.maxMeetingDate="",this.STAalert="",this.Alert="",this.announcements=[],this.houseKPIs=null,this.isLoadingKPIs=!1,this.showKPIDetails=!1,this.transportRequests=[],this.scheduledRequests=[],this.openRequests=[],this.isLoadingTransportRequests=!1,this.showTransportReport=!1,this.activeStaff=[],this.isSubmittingFeedback=!1,this.feedbackMessage="",this.houseLeaderRecordId="",this.residentData=[],this.pendingArrivals=[],this.feedbackForm=this.formBuilder.group({requestType:["",l.kI.required],staff:["",l.kI.required],message:["",[l.kI.required,l.kI.minLength(5)]]}),this.quickbaseService.residentData.subscribe(m=>{this.residentData=m,this.logger.debug("Resident data updated")}),this.quickbaseService.pendingArrivals.subscribe(m=>{this.pendingArrivals=m,this.logger.debug("Pending arrivals updated")}),this.STAalert=this.quickbaseService.STAalert,this.Alert=this.quickbaseService.Alert}payNow(){window.location.href="https://houseofmercyministries.net/payments/"}toggleTheme(){this.themeService.toggleTheme()}openStaffTasks(){this.quickbaseService.staffTasks.subscribe(o=>{if(o&&o.data){const i=o.data.map(a=>({id:a[3].value,taskName:a[8].value,priority:a[15].value,status:a[22].value,role:a[32].value,houseName:a[36].value,frequency:a[47].value,p1on1sDue:a[263].value}));this.logger.debug("Tasks transformed for navigation"),this.router.navigate(["/staff-tasks"],{state:{tasks:i,theHouseName:this.theHouseName,HouseLeaderName:this.HouseLeaderName,HLphone:this.HLphone,maxMeetingDate:this.maxMeetingDate}})}}),this.quickbaseService.getStaffTasks().subscribe(()=>{this.logger.debug("Staff tasks loaded")},o=>{this.logger.error("Error fetching staff tasks",o)})}exitApp(){this.router.navigate(["/login"])}ngOnInit(){this.quickbaseService.refreshAnnouncements().subscribe(o=>{this.logger.debug("Announcements loaded"),this.announcements=o.data||[]},o=>{this.logger.error("Error fetching announcements",o)}),this.quickbaseService.announcements.subscribe(o=>{o&&(this.announcements=o.data||[])}),this.loadActiveStaff(),this.residentData=this.quickbaseService.residentData,this.pendingArrivals=this.quickbaseService.pendingArrivals,this.route.params.subscribe(o=>{this.logger.debug("Route params loaded"),this.theHouseName=o.theHouseName,this.HouseLeaderName=o.HouseLeaderName,this.houseLeaderRecordId=o.HouseLeaderRecordId||"",this.HLphone=o.HLphone,this.maxMeetingDate=o.maxMeetingDate,this.logger.debug("\u2705 House leader record ID loaded"),this.theHouseName&&this.loadHouseKPIs(),this.loadTransportRequests()})}toggleTransportReport(){this.showTransportReport=!this.showTransportReport}loadTransportRequests(){this.quickbaseService.transportRequests.subscribe(o=>{o&&o.data&&(this.transportRequests=o.data||[],this.splitTransportRequests(),this.logger.debug("Transport requests loaded from cache"))}),this.isLoadingTransportRequests=!0,this.quickbaseService.getTransportationRequests().subscribe(o=>{this.transportRequests=o.data||[],this.splitTransportRequests(),this.isLoadingTransportRequests=!1,this.logger.debug("Transport requests refreshed")},o=>{this.logger.error("Error fetching transport requests",o),this.isLoadingTransportRequests=!1})}splitTransportRequests(){const o=Array.isArray(this.transportRequests)?this.transportRequests:[];this.scheduledRequests=o.filter(i=>"scheduled"===(i.status||"").toString().toLowerCase()).sort((i,a)=>new Date(i.dateRequested).getTime()-new Date(a.dateRequested).getTime()),this.openRequests=o.filter(i=>"open"===(i.status||"").toString().toLowerCase()).sort((i,a)=>new Date(i.dateRequested).getTime()-new Date(a.dateRequested).getTime())}loadHouseKPIs(){if(!this.theHouseName)return void this.logger.warn("Cannot load KPIs: No house name available");const o=this.quickbaseService.getHouseKPIsByName(this.theHouseName);o?(this.houseKPIs=o,this.isLoadingKPIs=!1,this.logger.debug("House KPIs loaded from cache")):(this.logger.debug("No KPI data available for this house"),this.isLoadingKPIs=!1,this.houseKPIs=null)}toggleKPIDetails(){this.showKPIDetails=!this.showKPIDetails}loadActiveStaff(){this.quickbaseService.activeStaff.subscribe(o=>{o&&(this.activeStaff=o.map(i=>({userId:i.userId,name:i.displayName})),this.logger.debug("Active staff loaded from cache"))}),this.quickbaseService.getActiveStaff().subscribe(o=>{this.logger.debug("Active staff data refreshed")},o=>{this.logger.error("Error loading active staff",o)})}submitFeedback(){if(this.feedbackForm.valid&&!this.isSubmittingFeedback){this.isSubmittingFeedback=!0,this.userService.getUserInfo();const p=(new Date).toISOString(),m=this.feedbackForm.value.requestType,oe=this.feedbackForm.value.message,re={6:{value:this.feedbackForm.value.staff},8:{value:`${m.toUpperCase()}: ${oe}`},22:{value:p},26:{value:this.houseLeaderRecordId||"Unknown House Leader"},35:{value:"HOMMA"},9:{value:"Open"}};this.logger.debug("Submitting house leader feedback/request"),this.quickbaseService.insertCommunication(re).subscribe(v=>{this.logger.debug("Feedback/Request sent successfully"),this.feedbackForm.reset(),this.isSubmittingFeedback=!1;const P="feedback"===m?"feedback":"request";this.feedbackMessage=`${P.charAt(0).toUpperCase()+P.slice(1)} sent successfully! The staff member will be notified and you will receive an email when they respond.`,setTimeout(()=>{this.feedbackMessage=""},5e3)},v=>{this.logger.error("Error sending feedback/request",v),this.isSubmittingFeedback=!1,this.feedbackMessage="Error sending your submission. Please try again.",setTimeout(()=>{this.feedbackMessage=""},5e3)})}else{var o,i,a,d;Object.keys(this.feedbackForm.controls).forEach(u=>{var p;null===(p=this.feedbackForm.get(u))||void 0===p||p.markAsTouched()}),null!==(o=this.feedbackForm.get("message"))&&void 0!==o&&o.hasError("minlength")?this.feedbackMessage="Please enter a message with at least 5 characters.":null!==(i=this.feedbackForm.get("staff"))&&void 0!==i&&i.hasError("required")?this.feedbackMessage="Please select a staff member.":null!==(a=this.feedbackForm.get("requestType"))&&void 0!==a&&a.hasError("required")?this.feedbackMessage="Please select a request type.":null!==(d=this.feedbackForm.get("message"))&&void 0!==d&&d.hasError("required")&&(this.feedbackMessage="Please enter your feedback or request."),setTimeout(()=>{this.feedbackMessage=""},5e3)}}navigateToDetail(o,i,a){const u={queryParams:{residentPhoto:this.residentPhoto||"assets/default-pic/defaultPhoto.png",residentName:a,theHouseName:this.theHouseName,houseLeaderName:this.HouseLeaderName,houseLeaderRecordId:this.houseLeaderRecordId,recordNumber2:o}};this.logger.debug("Navigating to resident detail"),i?(this.router.navigate(["/resident-update",o],u),this.logger.debug("Navigating to Resident Update")):(this.router.navigate(["/home/resident-detail",o],u),this.logger.debug("Navigating to Resident Detail"))}}return(n=r).\u0275fac=function(o){return new(o||n)(e.Y36(x.x),e.Y36(_.gz),e.Y36(_.F0),e.Y36(l.qu),e.Y36(k.K),e.Y36(M.f),e.Y36(Z.m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:99,vars:39,consts:[[3,"translucent"],["color","Primary"],["slot","end"],["fill","clear",3,"click"],["slot","icon-only",3,"name"],[3,"fullscreen"],[1,"ion-text-center"],["src","assets/logo/HOM3.png","alt","Logo"],[1,"ion-text-left"],["class","kpi-card",4,"ngIf"],[1,"alert-format",3,"ngStyle"],[1,"wrapper"],[1,"ion-activatable","ripple-parent","rounded-rectangle","ripple-effect-lightblue",3,"click"],[1,"body-text"],[4,"ngFor","ngForOf"],["class","ion-text-center",4,"ngIf"],[1,"transport-report-card"],[1,"kpi-header-clickable",3,"click"],[1,"ion-text-center","kpi-title"],[1,"expand-icon",3,"name"],[4,"ngIf"],[1,"feedback-card"],[1,"feedback-title-centered"],["class","feedback-message",3,"ngClass",4,"ngIf"],[3,"formGroup","ngSubmit"],["formControlName","staff","label","Staff Member","placeholder","Select staff member"],[3,"value",4,"ngFor","ngForOf"],["formControlName","requestType","label","Request Type","placeholder","Select request type"],["value","feedback"],["value","request"],["value","maintenance"],["value","support"],["value","suggestion"],["value","concern"],["formControlName","message","label","Enter Your Feedback or Request","labelPlacement","floating","placeholder","Please describe your feedback, request, or concern in detail...","autoGrow","true","rows","4"],[1,"feedback-buttons"],["expand","block","type","submit","color","primary",3,"disabled"],["name","send","slot","start"],[1,"announcement-card"],[1,"bulletin-title"],[1,"ion-activatable","ripple-parent","rounded-rectangle","ripple-effect-red",3,"click"],[1,"kpi-card"],["class","kpi-three-column-grid",4,"ngIf"],["name","circular"],[1,"kpi-three-column-grid"],[1,"kpi-grid-row"],[1,"kpi-grid-item"],[1,"kpi-label"],[1,"kpi-value"],["class","kpi-expandable-content",4,"ngIf"],[1,"kpi-expandable-content"],[1,"kpi-value","negative"],[3,"click"],["alt","Resident Photo","class","thumbnail",3,"src",4,"ngIf"],["alt","Resident Photo",1,"thumbnail",3,"src"],[3,"innerHTML"],["class","transport-group",4,"ngIf"],[1,"transport-group"],[1,"transport-group-title"],[1,"transport-separator"],[1,"feedback-message",3,"ngClass"],[3,"value"]],template:function(o,i){if(1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e._uU(3," HOM Mobile Assistant - Participants "),e.qZA(),e.TgZ(4,"ion-buttons",2)(5,"ion-button",3),e.NdJ("click",function(){return i.toggleTheme()}),e._UZ(6,"ion-icon",4),e.ALo(7,"async"),e.qZA()()()(),e.TgZ(8,"ion-content",5)(9,"ion-card",6),e._UZ(10,"img",7)(11,"br"),e.TgZ(12,"ion-card-header")(13,"ion-card-title",6),e._uU(14),e.qZA(),e.TgZ(15,"ion-card-subtitle",8),e._uU(16),e._UZ(17,"br"),e._uU(18),e._UZ(19,"br"),e.qZA()()(),e.YNc(20,y,8,3,"ion-card",9),e.TgZ(21,"div",10)(22,"p",6),e._uU(23),e.ALo(24,"extractText"),e.qZA()(),e.TgZ(25,"div",10)(26,"p",6),e._uU(27),e.ALo(28,"extractText"),e.qZA()(),e.TgZ(29,"div",11)(30,"div",12),e.NdJ("click",function(){return i.openStaffTasks()}),e._uU(31," Manage House Leader Tasks "),e._UZ(32,"ion-ripple-effect"),e.qZA(),e.TgZ(33,"div",13),e._uU(34,"Click on a resident's photo to view their details or submit forms."),e.qZA()(),e.TgZ(35,"ion-card-title",6),e._uU(36,"Active Participants"),e.qZA(),e.YNc(37,U,6,2,"ion-card",14),e.ALo(38,"async"),e._UZ(39,"router-outlet"),e.YNc(40,w,2,0,"ion-card-title",15),e.ALo(41,"async"),e.YNc(42,N,5,4,"ion-card",14),e.ALo(43,"async"),e.TgZ(44,"ion-card",16)(45,"ion-card-header",17),e.NdJ("click",function(){return i.toggleTransportReport()}),e.TgZ(46,"ion-card-title",18),e._uU(47," Transportation Requests "),e._UZ(48,"ion-icon",19),e.qZA()(),e.YNc(49,Y,4,3,"ion-card-content",20),e.qZA(),e.TgZ(50,"ion-card",21)(51,"ion-card-header")(52,"h1",22),e._uU(53,"Submit Feedback or Request"),e.qZA(),e.TgZ(54,"ion-card-subtitle"),e._uU(55," Send feedback, requests, or communicate with HOM staff. Select the staff member you'd like to contact, choose your request type, enter your message and hit Submit! "),e.qZA()(),e.TgZ(56,"ion-card-content"),e.YNc(57,z,2,5,"div",23),e.TgZ(58,"form",24),e.NdJ("ngSubmit",function(){return i.submitFeedback()}),e.TgZ(59,"ion-item")(60,"ion-select",25),e.YNc(61,E,2,2,"ion-select-option",26),e.qZA()(),e.TgZ(62,"ion-item")(63,"ion-select",27)(64,"ion-select-option",28),e._uU(65,"Feedback"),e.qZA(),e.TgZ(66,"ion-select-option",29),e._uU(67,"General Request"),e.qZA(),e.TgZ(68,"ion-select-option",30),e._uU(69,"Maintenance Request"),e.qZA(),e.TgZ(70,"ion-select-option",31),e._uU(71,"Support Needed"),e.qZA(),e.TgZ(72,"ion-select-option",32),e._uU(73,"Suggestion"),e.qZA(),e.TgZ(74,"ion-select-option",33),e._uU(75,"Concern/Issue"),e.qZA()()(),e.TgZ(76,"ion-item"),e._UZ(77,"ion-textarea",34),e.qZA(),e.TgZ(78,"div",35)(79,"ion-button",36),e._UZ(80,"ion-icon",37),e._uU(81),e.qZA()()()()(),e.TgZ(82,"ion-card",38)(83,"ion-card-header")(84,"h1",39),e._uU(85,"HOM Bulletin Board"),e.qZA()(),e.TgZ(86,"ion-card-content"),e.YNc(87,G,2,1,"div",20)(88,V,3,0,"div",20),e.qZA()(),e.TgZ(89,"ion-card")(90,"ion-card-content")(91,"div",11)(92,"div",40),e.NdJ("click",function(){return i.payNow()}),e._uU(93," Pay Program Fees or Give/Tithe "),e._UZ(94,"ion-ripple-effect"),e.qZA(),e._UZ(95,"br"),e.TgZ(96,"div",40),e.NdJ("click",function(){return i.exitApp()}),e._uU(97," Return to Login Page "),e._UZ(98,"ion-ripple-effect"),e.qZA()()()()()),2&o){let a;e.Q6J("translucent",!0),e.xp6(6),e.Q6J("name",e.lcZ(7,23,i.themeService.isDarkMode$)?"sunny":"moon"),e.xp6(2),e.Q6J("fullscreen",!0),e.xp6(6),e.Oqu(i.theHouseName),e.xp6(2),e.hij("House Leader: ",i.HouseLeaderName,""),e.xp6(2),e.hij(" Phone: ",i.HLphone,""),e.xp6(2),e.Q6J("ngIf",i.houseKPIs||i.isLoadingKPIs),e.xp6(),e.Q6J("ngStyle",e.VKq(35,b,"No Alerts"===i.STAalert?"green":"red")),e.xp6(2),e.Oqu(e.lcZ(24,25,i.STAalert)),e.xp6(2),e.Q6J("ngStyle",e.VKq(37,b,i.Alert.includes("No Alerts")?"green":"red")),e.xp6(2),e.Oqu(e.lcZ(28,27,i.Alert)),e.xp6(10),e.Q6J("ngForOf",e.lcZ(38,29,i.quickbaseService.residentData)),e.xp6(3),e.Q6J("ngIf",(null==(a=e.lcZ(41,31,i.quickbaseService.pendingArrivals))?null:a.length)>0),e.xp6(2),e.Q6J("ngForOf",e.lcZ(43,33,i.quickbaseService.pendingArrivals)),e.xp6(6),e.Q6J("name",i.showTransportReport?"chevron-up":"chevron-down"),e.xp6(),e.Q6J("ngIf",i.showTransportReport),e.xp6(8),e.Q6J("ngIf",i.feedbackMessage),e.xp6(),e.Q6J("formGroup",i.feedbackForm),e.xp6(3),e.Q6J("ngForOf",i.activeStaff),e.xp6(18),e.Q6J("disabled",!i.feedbackForm.valid||i.isSubmittingFeedback),e.xp6(2),e.hij(" ",i.isSubmittingFeedback?"Sending...":"Submit Request"," "),e.xp6(6),e.Q6J("ngIf",i.announcements.length>0),e.xp6(),e.Q6J("ngIf",0===i.announcements.length)}},dependencies:[g.mk,g.sg,g.O5,g.PC,l._Y,l.JJ,l.JL,l.sg,l.u,s.YG,s.Sm,s.PM,s.FN,s.Zi,s.tO,s.Dq,s.W2,s.Gu,s.gu,s.Ie,s.Q$,s.q_,s.H$,s.t9,s.n0,s.PQ,s.g2,s.wd,s.sr,s.QI,s.j9,_.lC,g.Ov,g.uU,O.d,q],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}.body-text[_ngcontent-%COMP%]{font-size:12px;line-height:16px;margin-top:0}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px;line-height:18px}.fields-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;line-height:16px;color:#2b9c4d;margin:0}body.dark[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#4ade80!important}.thumbnail[_ngcontent-%COMP%]{width:100px;height:130px;object-fit:cover}.info-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.info-item[_ngcontent-%COMP%]{margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-header[_ngcontent-%COMP%]{--ion-background-color: #4194ab !important;--ion-color-base: #fff !important}ion-title[_ngcontent-%COMP%]{font-size:1.1em;font-weight:400;text-shadow:none}.alert-format[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#fa071b;margin:20px 40px 0;line-height:20px}.weekly-meeting-message[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{text-align:center;font-size:12px;color:#010384;font-weight:700}ion-content[_ngcontent-%COMP%]{--ion-font-size: 12px}ion-buttons[_ngcontent-%COMP%]{font-size:1.1em}.ripple-effect-blue[_ngcontent-%COMP%]{color:#010384}.ripple-effect-lightblue[_ngcontent-%COMP%]{color:#00c8ff}.ripple-effect-red[_ngcontent-%COMP%]{color:#980707}.wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;text-align:center;height:100px;width:300px;margin:0 auto}b[_ngcontent-%COMP%]{width:100%}.ripple-parent[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;border:1px solid #4194ab;width:100%;height:50px;border-radius:8px}.rounded-rectangle[_ngcontent-%COMP%]{width:300px;height:50px;border-radius:8px}.bulletin-title[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;font-weight:700;margin:0;padding:10px}.announcement-card[_ngcontent-%COMP%]{border:2px solid #3498db;border-radius:10px;margin-bottom:20px;max-height:200px;overflow-y:auto}.feedback-card[_ngcontent-%COMP%]{border:2px solid #4194ab;border-radius:10px;margin-bottom:20px}.feedback-title[_ngcontent-%COMP%]{color:#4194ab;font-size:1.2em;font-weight:700;margin-bottom:10px}.feedback-title-centered[_ngcontent-%COMP%]{color:#4194ab;font-size:1.5em;font-weight:700;margin-bottom:10px;text-align:center}.feedback-message[_ngcontent-%COMP%]{padding:10px;border-radius:5px;margin-bottom:15px;text-align:center;font-weight:700}.success-message[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.error-message[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.feedback-buttons[_ngcontent-%COMP%]{margin-top:15px;padding:0 10px}.feedback-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-bottom:10px}.feedback-card[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{border:1px solid #4194ab;border-radius:5px}body.dark[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{border:1px solid #444}body.dark[_ngcontent-%COMP%]   .body-text[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .feedback-title-centered[_ngcontent-%COMP%]{color:var(--ion-text-color)}body.dark[_ngcontent-%COMP%]   .alert-format[_ngcontent-%COMP%]{color:#fff!important}body.dark[_ngcontent-%COMP%]   .rounded-rectangle[_ngcontent-%COMP%]{background:var(--ion-color-step-100);color:var(--ion-text-color);border:1px solid var(--ion-color-step-200)}body.dark[_ngcontent-%COMP%]   .rounded-rectangle[_ngcontent-%COMP%]:hover{background:var(--ion-color-step-150)}body.dark[_ngcontent-%COMP%]   .feedback-card[_ngcontent-%COMP%]{background:var(--ion-card-background);color:var(--ion-text-color)}body.dark[_ngcontent-%COMP%]   .feedback-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: var(--ion-color-step-50);--color: var(--ion-text-color)}body.dark[_ngcontent-%COMP%]   .feedback-card[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{border-color:var(--ion-color-step-300)}body.dark[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--ion-text-color)!important;--color: var(--ion-text-color) !important}body.dark[_ngcontent-%COMP%]   .kpi-header-clickable[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-dark-shade)}body.dark[_ngcontent-%COMP%]   .kpi-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{color:var(--ion-color-light-shade)}body.dark[_ngcontent-%COMP%]   .kpi-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--ion-color-primary-tint)}body.dark[_ngcontent-%COMP%]   .kpi-grid-item[_ngcontent-%COMP%]{background:var(--ion-color-dark-shade);border-color:var(--ion-color-medium-tint)}body.dark[_ngcontent-%COMP%]   .kpi-grid-item[_ngcontent-%COMP%]   .kpi-label[_ngcontent-%COMP%]{color:var(--ion-color-light-shade)}body.dark[_ngcontent-%COMP%]   .kpi-grid-item[_ngcontent-%COMP%]   .kpi-value[_ngcontent-%COMP%]{color:var(--ion-color-primary-tint)}body.dark[_ngcontent-%COMP%]   .kpi-grid-item[_ngcontent-%COMP%]   .kpi-value.negative[_ngcontent-%COMP%]{color:var(--ion-color-danger-tint)}body.dark[_ngcontent-%COMP%]   .kpi-compact-item[_ngcontent-%COMP%]   .kpi-label[_ngcontent-%COMP%]{color:var(--ion-color-light-shade)}body.dark[_ngcontent-%COMP%]   .kpi-compact-item[_ngcontent-%COMP%]   .kpi-value[_ngcontent-%COMP%]{color:var(--ion-color-primary-tint)}body.dark[_ngcontent-%COMP%]   .kpi-compact-item[_ngcontent-%COMP%]   .kpi-value.negative[_ngcontent-%COMP%]{color:var(--ion-color-danger-tint)}.kpi-card[_ngcontent-%COMP%]{margin:8px 0}.kpi-card[_ngcontent-%COMP%]   .kpi-title[_ngcontent-%COMP%]{font-size:16px;margin:0;color:var(--ion-color-primary);display:flex;align-items:center;justify-content:center;gap:8px}.kpi-card[_ngcontent-%COMP%]   .kpi-title[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{font-size:14px;transition:transform .3s ease}.kpi-header-clickable[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s ease}.kpi-header-clickable[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-light)}.kpi-summary[_ngcontent-%COMP%]{padding:8px 0}.kpi-summary[_ngcontent-%COMP%]   .kpi-summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;text-align:center}.kpi-summary[_ngcontent-%COMP%]   .kpi-summary-row[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{flex:1;font-size:12px;color:var(--ion-color-medium)}.kpi-summary[_ngcontent-%COMP%]   .kpi-summary-row[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:16px;color:var(--ion-color-primary);font-weight:700;margin-bottom:2px}.kpi-three-column-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.kpi-grid-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;align-items:center}.kpi-grid-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:8px;background:var(--ion-color-light);border-radius:6px;border:1px solid var(--ion-color-medium);transition:transform .2s ease,box-shadow .2s ease}.kpi-grid-item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.kpi-grid-item[_ngcontent-%COMP%]   .kpi-label[_ngcontent-%COMP%]{font-size:10px;color:var(--ion-color-medium-shade);font-weight:500;margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;line-height:1.2}.kpi-grid-item[_ngcontent-%COMP%]   .kpi-value[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--ion-color-primary);white-space:nowrap}.kpi-grid-item[_ngcontent-%COMP%]   .kpi-value.negative[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.kpi-expandable-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-top:4px;animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.kpi-compact-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.kpi-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:4px 0;border-bottom:1px solid var(--ion-color-light-shade)}.kpi-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.kpi-compact-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:1;min-width:0}.kpi-compact-item[_ngcontent-%COMP%]   .kpi-label[_ngcontent-%COMP%]{font-size:11px;color:var(--ion-color-medium);font-weight:500;margin-bottom:2px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.kpi-compact-item[_ngcontent-%COMP%]   .kpi-value[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--ion-color-primary);text-align:center}.kpi-compact-item[_ngcontent-%COMP%]   .kpi-value.negative[_ngcontent-%COMP%]{color:var(--ion-color-danger)}@media (max-width: 768px){.kpi-grid-item[_ngcontent-%COMP%]{padding:6px}.kpi-grid-item[_ngcontent-%COMP%]   .kpi-label[_ngcontent-%COMP%]{font-size:9px}.kpi-grid-item[_ngcontent-%COMP%]   .kpi-value[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.kpi-grid-row[_ngcontent-%COMP%]{gap:4px}.kpi-grid-item[_ngcontent-%COMP%]{padding:4px}.kpi-grid-item[_ngcontent-%COMP%]   .kpi-label[_ngcontent-%COMP%]{font-size:8px}.kpi-grid-item[_ngcontent-%COMP%]   .kpi-value[_ngcontent-%COMP%]{font-size:12px}}.transport-group[_ngcontent-%COMP%]{margin-top:12px;padding-top:8px}.transport-group-title[_ngcontent-%COMP%]{font-size:1.05rem;font-weight:700;color:var(--ion-color-primary);margin:8px 0 4px}.transport-separator[_ngcontent-%COMP%]{border:none;border-top:3px double rgba(0,0,0,.12);margin:6px 0 12px}"]}),r})()},{path:"resident-detail/:id",component:c(7036).v}];let ee=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.Bz.forChild(X),_.Bz]}),r})();var te=c(1664);let ne=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,l.u5,l.UX,s.Pc,te.e,ee]}),r})()}}]);