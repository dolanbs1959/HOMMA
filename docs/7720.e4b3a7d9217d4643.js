"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7720],{7720:(_,m,s)=>{s.r(m),s.d(m,{ResidentUpdatePageModule:()=>M});var d=s(1368),i=s(2112),c=s(4716),p=s(4180),e=s(4496),R=s(4628);function g(t,a){if(1&t&&e.wR5(0,"div",22),2&t){const n=e.GaO();e.E7m("innerHTML",n.residentData.residentPhoto.value,e.E3n)}}function O(t,a){if(1&t&&(e.I0R(0,"div"),e.OEk(1),e.C$Y()),2&t){const n=e.GaO();e.yG2(),e.cNF(n.residentData.residentFullName.value)}}function I(t,a){if(1&t&&(e.I0R(0,"div"),e.OEk(1),e.C$Y()),2&t){const n=e.GaO();e.yG2(),e.cNF(n.pendingArrival.residentFullName.value)}}function h(t,a){if(1&t&&(e.I0R(0,"ion-item")(1,"div",23)(2,"label"),e.OEk(3,"Move Date"),e.C$Y(),e.wR5(4,"ion-datetime",24),e.C$Y()()),2&t){const n=e.GaO();e.yG2(4),e.E7m("value",n.currentDate)}}function k(t,a){1&t&&(e.I0R(0,"ion-item")(1,"ion-select",25)(2,"ion-select-option",26),e.OEk(3,"1"),e.C$Y(),e.I0R(4,"ion-select-option",27),e.OEk(5,"2"),e.C$Y(),e.I0R(6,"ion-select-option",28),e.OEk(7,"3"),e.C$Y(),e.I0R(8,"ion-select-option",29),e.OEk(9,"4"),e.C$Y(),e.I0R(10,"ion-select-option",30),e.OEk(11,"5"),e.C$Y(),e.I0R(12,"ion-select-option",31),e.OEk(13,"6"),e.C$Y(),e.I0R(14,"ion-select-option",32),e.OEk(15,"7"),e.C$Y(),e.I0R(16,"ion-select-option",33),e.OEk(17,"8"),e.C$Y(),e.I0R(18,"ion-select-option",34),e.OEk(19,"9"),e.C$Y(),e.I0R(20,"ion-select-option",35),e.OEk(21,"10"),e.C$Y()()())}function b(t,a){1&t&&(e.I0R(0,"ion-item")(1,"ion-select",36)(2,"ion-select-option",26),e.OEk(3,"1"),e.C$Y(),e.I0R(4,"ion-select-option",37),e.OEk(5,"1T"),e.C$Y(),e.I0R(6,"ion-select-option",27),e.OEk(7,"2"),e.C$Y(),e.I0R(8,"ion-select-option",38),e.OEk(9,"2T"),e.C$Y(),e.I0R(10,"ion-select-option",28),e.OEk(11,"3"),e.C$Y(),e.I0R(12,"ion-select-option",39),e.OEk(13,"3T"),e.C$Y(),e.I0R(14,"ion-select-option",29),e.OEk(15,"4"),e.C$Y(),e.I0R(16,"ion-select-option",40),e.OEk(17,"4T"),e.C$Y(),e.I0R(18,"ion-select-option",30),e.OEk(19,"5"),e.C$Y(),e.I0R(20,"ion-select-option",41),e.OEk(21,"5T"),e.C$Y(),e.I0R(22,"ion-select-option",31),e.OEk(23,"6"),e.C$Y(),e.I0R(24,"ion-select-option",42),e.OEk(25,"6T"),e.C$Y(),e.I0R(26,"ion-select-option",32),e.OEk(27,"7"),e.C$Y(),e.I0R(28,"ion-select-option",43),e.OEk(29,"7T"),e.C$Y(),e.I0R(30,"ion-select-option",33),e.OEk(31,"8"),e.C$Y(),e.I0R(32,"ion-select-option",44),e.OEk(33,"8T"),e.C$Y(),e.I0R(34,"ion-select-option",34),e.OEk(35,"9"),e.C$Y(),e.I0R(36,"ion-select-option",45),e.OEk(37,"9T"),e.C$Y(),e.I0R(38,"ion-select-option",35),e.OEk(39,"10"),e.C$Y(),e.I0R(40,"ion-select-option",46),e.OEk(41,"10T"),e.C$Y(),e.I0R(42,"ion-select-option",47),e.OEk(43,"11"),e.C$Y(),e.I0R(44,"ion-select-option",48),e.OEk(45,"11T"),e.C$Y(),e.I0R(46,"ion-select-option",49),e.OEk(47,"12"),e.C$Y(),e.I0R(48,"ion-select-option",50),e.OEk(49,"12T"),e.C$Y(),e.I0R(50,"ion-select-option",51),e.OEk(51,"13"),e.C$Y(),e.I0R(52,"ion-select-option",52),e.OEk(53,"14"),e.C$Y(),e.I0R(54,"ion-select-option",53),e.OEk(55,"15"),e.C$Y(),e.I0R(56,"ion-select-option",54),e.OEk(57,"16"),e.C$Y(),e.I0R(58,"ion-select-option",55),e.OEk(59,"17"),e.C$Y(),e.I0R(60,"ion-select-option",56),e.OEk(61,"18"),e.C$Y(),e.I0R(62,"ion-select-option",57),e.OEk(63,"19"),e.C$Y(),e.I0R(64,"ion-select-option",58),e.OEk(65,"20"),e.C$Y()()())}function E(t,a){if(1&t&&(e.I0R(0,"p"),e.OEk(1),e.C$Y()),2&t){const n=e.GaO();e.yG2(),e.oRS("Record Number: ",n.NewResidentUpdateId,"")}}function Y(t,a){if(1&t){const n=e.KQA();e.I0R(0,"div",21),e.qCj("click",function(){e.usT(n);const o=e.GaO();return e.CGJ(o.reportForm.valid&&o.insertNewResidentUpdate())}),e.OEk(1," Add Resident Update "),e.wR5(2,"ion-ripple-effect"),e.C$Y()}if(2&t){const n=e.GaO();e.eAK("disabled-button",!n.reportForm.valid)}}function $(t,a){if(1&t){const n=e.KQA();e.I0R(0,"div",21),e.qCj("click",function(){e.usT(n);const o=e.GaO();return e.CGJ(o.resetForm())}),e.OEk(1," Reset Form "),e.wR5(2,"ion-ripple-effect"),e.C$Y()}}const w=[{path:"",component:(()=>{var t;class a{constructor(r,o,l,u,y){this.router=r,this.route=o,this.location=l,this.quickbaseService=u,this.formBuilder=y,this.currentDate=(new Date).toISOString().split("T")[0],this.NewResidentUpdateId=0,this.showRipple=!1,this.reportForm=this.formBuilder.group({RUStatus:[""],OccupancyStatus:[""],MoveDate:[this.currentDate],NewRoom:[""],NewBed:[""],Notes:[""]});const v=this.reportForm.get("OccupancyStatus");v&&v.valueChanges.subscribe(C=>{if(C&&!C.toLowerCase().includes("move")){const f=this.reportForm.get("MoveDate");f&&f.setValue(null)}})}insertNewResidentUpdate(){this.quickbaseService.residentupdate({15:{value:this.pendingArrival?this.pendingArrival.recordNumber2.value:this.residentData.recordNumber2.value},23:{value:this.reportForm.value.OccupancyStatus},50:{value:this.reportForm.value.MoveDate},33:{value:this.reportForm.value.NewRoom},34:{value:this.reportForm.value.NewBed},24:{value:this.reportForm.value.Notes}}).subscribe(l=>{console.log("Resident Update inserted successfully",l),this.NewResidentUpdateId=l.data[0][3].value,console.log("New Resident Update recorID:",this.NewResidentUpdateId)},l=>{console.error("Error inserting record",l)})}resetForm(){this.reportForm.reset(),this.NewResidentUpdateId=0}goBack(){this.location.back()}ngOnInit(){const r=Number(this.route.snapshot.paramMap.get("id"));console.log("ID:",r);const o=this.router.getCurrentNavigation();o&&o.extras.state?(this.residentData=o.extras.state.residentData,console.log("Resident Data:",this.residentData)):this.quickbaseService.pendingArrivals.subscribe(l=>{console.log("Data:",l),this.pendingArrival=l.find(u=>u.recordNumber2.value===r),console.log("residentupdate Pending Arrival record:",this.pendingArrival)}),this.quickbaseService.getDropdownChoices().subscribe(l=>{this.dropdownChoices=l.properties.choices,console.log("Dropdown Choices:",this.dropdownChoices)})}}return(t=a).\u0275fac=function(r){return new(r||t)(e.GI1(p.E5),e.GI1(p.gV),e.GI1(d.oB),e.GI1(R.i),e.GI1(c.im))},t.\u0275cmp=e.In1({type:t,selectors:[["HOMMA-residentupdate"]],decls:52,vars:12,consts:[[3,"translucent"],["color","Primary"],[3,"fullscreen"],[1,"ion-text-center"],["src","assets/logo/HOM.png","alt","Logo"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"formGroup"],["formControlName","OccupancyStatus","label","Occupancy Status","interface","action-sheet","placeholder","Select the occupancy status of the resident","label-placement","floating","fill","outline"],["value","Information Updates"],["value","Moved Beds"],["value","Moved House"],["value","Moved In"],["value","Moved Out"],["value","Planned Move (Lateral)"],["value","Planned Move Out"],["value","Not Arrived on PRD"],["formControlName","Notes","label","Note","labelPlacement","floating","placeholder","Please enter any notes pertaining to this resident update here","value","","autoGrow","true",1,"bordered-input"],[1,"wrapper"],["class","ion-activatable ripple-parent rounded-rectangle ripple-effect-blue",3,"disabled-button","click",4,"ngIf"],["class","ion-activatable ripple-parent rounded-rectangle ripple-effect-blue",3,"click",4,"ngIf"],[1,"ion-activatable","ripple-parent","rounded-rectangle","ripple-effect-blue",3,"click"],[3,"innerHTML"],[1,"stacked-label"],["presentation","date","formControlName","MoveDate",3,"value"],["formControlName","NewRoom","label","New Room #","interface","action-sheet","placeholder","Select the new room # of the resident","label-placement","floating","fill","outline"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["formControlName","NewBed","label","New Bed #","interface","action-sheet","placeholder","Select the new bed # of the resident","label-placement","floating","fill","outline"],["value","1T"],["value","2T"],["value","3T"],["value","4T"],["value","5T"],["value","6T"],["value","7T"],["value","8T"],["value","9T"],["value","10T"],["value","11"],["value","11T"],["value","12"],["value","12T"],["value","13"],["value","14"],["value","15"],["value","16"],["value","17"],["value","18"],["value","19"],["value","20"]],template:function(r,o){1&r&&(e.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e.OEk(3," HOM Mobile Assistant - Add Resident Update "),e.C$Y()()(),e.I0R(4,"ion-content",2)(5,"ion-card",3),e.wR5(6,"img",4)(7,"br"),e.I0R(8,"ion-card-header")(9,"h1"),e.OEk(10,"Adding a Resident Update for:"),e.C$Y(),e.I0R(11,"ion-card-subtitle"),e.wR5(12,"br"),e.yuY(13,g,1,1,"div",5)(14,O,2,1,"div",6)(15,I,2,1,"div",6),e.C$Y()()(),e.I0R(16,"ion-card")(17,"ion-list",7)(18,"ion-select",8)(19,"ion-select-option",9),e.OEk(20,"Information Updates (emergency contacts, new phone #'s, new employment, CCO contact info, etc.)"),e.C$Y(),e.I0R(21,"ion-select-option",10),e.OEk(22,"Moved Beds"),e.C$Y(),e.I0R(23,"ion-select-option",11),e.OEk(24,"Moved House"),e.C$Y(),e.I0R(25,"ion-select-option",12),e.OEk(26,"Moved In"),e.C$Y(),e.I0R(27,"ion-select-option",13),e.OEk(28,"Moved Out"),e.C$Y(),e.I0R(29,"ion-select-option",14),e.OEk(30,"Planned Move (Lateral)"),e.C$Y(),e.I0R(31,"ion-select-option",15),e.OEk(32,"Planned Move Out"),e.C$Y(),e.I0R(33,"ion-select-option",16),e.OEk(34,"Not Arrived on PRD"),e.C$Y()(),e.yuY(35,h,5,1,"ion-item",6),e.wR5(36,"br"),e.yuY(37,k,22,0,"ion-item",6),e.wR5(38,"br"),e.yuY(39,b,66,0,"ion-item",6),e.wR5(40,"br"),e.I0R(41,"ion-list")(42,"ion-item"),e.wR5(43,"ion-textarea",17),e.C$Y()(),e.I0R(44,"div",18),e.yuY(45,E,2,1,"p",6)(46,Y,3,2,"div",19)(47,$,3,0,"div",20),e.wR5(48,"br"),e.I0R(49,"div",21),e.qCj("click",function(){return o.goBack()}),e.OEk(50," Back/Start Over "),e.wR5(51,"ion-ripple-effect"),e.C$Y()()()()()),2&r&&(e.E7m("translucent",!0),e.yG2(4),e.E7m("fullscreen",!0),e.yG2(9),e.E7m("ngIf",o.residentData&&o.residentData.residentPhoto.value),e.yG2(),e.E7m("ngIf",o.residentData),e.yG2(),e.E7m("ngIf",o.pendingArrival),e.yG2(2),e.E7m("formGroup",o.reportForm),e.yG2(18),e.E7m("ngIf",o.reportForm.value.OccupancyStatus&&o.reportForm.value.OccupancyStatus.toLowerCase().includes("move")),e.yG2(2),e.E7m("ngIf",o.reportForm.value.OccupancyStatus&&o.reportForm.value.OccupancyStatus.toLowerCase().includes("move")),e.yG2(2),e.E7m("ngIf",o.reportForm.value.OccupancyStatus&&o.reportForm.value.OccupancyStatus.toLowerCase().includes("move")),e.yG2(6),e.E7m("ngIf",o.NewResidentUpdateId),e.yG2(),e.E7m("ngIf",!o.NewResidentUpdateId),e.yG2(),e.E7m("ngIf",o.NewResidentUpdateId))},dependencies:[d.u_,c.ue,c.u,c.uW,c.Wo,i.KC,i.YY,i.MN,i._i,i.on,i.wB,i.Yb,i.OC,i.mA,i.Cy,i.gd,i.gP,i.tM,i.Md,i.IT,i.qG],styles:["ion-header[_ngcontent-%COMP%]{--ion-background-color: #4194ab !important;--ion-color-base: #fff !important}ion-title[_ngcontent-%COMP%]{--ion-color-base: #fff !important;font-size:16px}ion-card-header[_ngcontent-%COMP%]{--padding-bottom: 0;font-size:16px;font-weight:700}ion-card-subtitle[_ngcontent-%COMP%]{--ion-color-base: #000 !important;font-size:12px;font-weight:inherit}ion-card-title[_ngcontent-%COMP%]{text-align:left}.error-message[_ngcontent-%COMP%]{color:red;font-size:20px;margin-top:10px}ion-select[_ngcontent-%COMP%]{margin:0;padding:10px}form[_ngcontent-%COMP%]{margin:0;padding:10px}.ripple-effect-blue[_ngcontent-%COMP%]{color:#010384}.ripple-effect-lightblue[_ngcontent-%COMP%]{color:#00c8ff}.ripple-effect-orange[_ngcontent-%COMP%]{color:#6c5105;font-size:x-small}.wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;text-align:center;height:100px;width:200px;margin:0 auto}b[_ngcontent-%COMP%]{width:100%}.center-div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%}.ripple-parent[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;border:1px solid #4194ab;width:100%;height:50px;border-radius:8px}.rounded-rectangle[_ngcontent-%COMP%]{width:200px;height:40px;border-radius:8px}.bordered-input[_ngcontent-%COMP%]{border:1px solid #4194ab;white-space:pre-wrap}.stacked-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#4194ab}ion-button[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;--padding-top: 0px;--padding-bottom: 0px;--background: #87130a;--color: #fff;--border-radius: 8px;font-size:12px;font-weight:700}"]}),a})()}];let M=(()=>{var t;class a{}return(t=a).\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.a4G({type:t}),t.\u0275inj=e.s3X({imports:[d.MD,c.y,c.sl,i.wZ,p.qQ.forChild(w)]}),a})()}}]);