"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1772],{1772:(y,M,s)=>{s.r(M),s.d(M,{LoginPageModule:()=>L});var b=s(1368),c=s(4716),n=s(2112),d=s(4180),e=s(4496),I=s(4628);function P(o,r){if(1&o&&(e.I0R(0,"div",9),e.OEk(1),e.C$Y()),2&o){const g=e.GaO();e.yG2(),e.oRS(" ",g.errorMessage," ")}}const R=[{path:"",component:(()=>{var o;class r{constructor(t,i){this.router=t,this.quickbaseService=i,this.housename="",this.staffID="",this.HLphone="",this.maxMeetingDate="",this.errorMessage="",this.recordNumber=0,this.savedRecordNumber=0}ngOnInit(){this.quickbaseService.errorMessage$.subscribe(t=>{this.errorMessage=t})}login(){console.log("Housename:",this.housename),console.log("StaffID:",this.staffID),console.log("HLphone:",this.HLphone),console.log("MaxMeetingDate:",this.maxMeetingDate),this.quickbaseService.query(this.housename,this.staffID).subscribe(t=>{if(t){var i,l,a,h;const m=null===(i=t.theHouseName)||void 0===i?void 0:i.value,v=null===(l=t.HouseLeaderName)||void 0===l?void 0:l.value,p=null===(a=t.HLphone)||void 0===a?void 0:a.value;this.recordNumber=t.recordNumber,this.savedRecordNumber=this.recordNumber,this.maxMeetingDate=null===(h=t.maxMeetingDate)||void 0===h?void 0:h.value,console.log("Record number after setting:",this.savedRecordNumber),this.quickbaseService.queryData=t,console.log("Query data:",this.quickbaseService.queryData),this.quickbaseService.getResidents(this.savedRecordNumber).subscribe(u=>{console.log("savedRecord number:",this.savedRecordNumber),this.quickbaseService.residentData.next(u),console.log("Resident data:",u)}),m&&v&&p&&this.quickbaseService.getMaxMeetingDate(m).subscribe(u=>{var f;this.maxMeetingDate=null===(f=u.data[0])||void 0===f?void 0:f[40].value,console.log("MaxMeetingDate:",this.maxMeetingDate),this.router.navigate(["/home",{theHouseName:m,HouseLeaderName:v,HLphone:p,maxMeetingDate:this.maxMeetingDate}])})}else console.error("No data found in the response")},t=>{console.error("API Error:",t)})}}return(o=r).\u0275fac=function(t){return new(t||o)(e.GI1(d.E5),e.GI1(I.i))},o.\u0275cmp=e.In1({type:o,selectors:[["app-login"]],decls:23,vars:5,consts:[[3,"translucent"],["color","Primary"],[3,"fullscreen"],[1,"ion-text-center"],["src","assets/logo/HOM.png","alt","Logo"],["class","error-message",4,"ngIf"],["placeholder","House Name",3,"ngModel","ngModelChange"],["type","password","placeholder","StaffID",3,"ngModel","ngModelChange"],[3,"click"],[1,"error-message"]],template:function(t,i){1&t&&(e.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e.OEk(3," HOM Mobile Assistant "),e.C$Y()()(),e.I0R(4,"ion-content",2)(5,"ion-card",3),e.wR5(6,"img",4),e.I0R(7,"ion-card-header")(8,"ion-card-title"),e.OEk(9,"Enter your House name and your Staff ID, then click the blue button to enter."),e.C$Y(),e.I0R(10,"ion-card-subtitle")(11,"i"),e.OEk(12,"Enter the House name as two words; e.g., Amos House."),e.C$Y()(),e.yuY(13,P,2,1,"div",5),e.C$Y(),e.I0R(14,"ion-card-content")(15,"ion-item")(16,"ion-input",6),e.iHE("ngModelChange",function(a){return e.kNx(i.housename,a)||(i.housename=a),a}),e.C$Y()(),e.wR5(17,"br"),e.I0R(18,"ion-item")(19,"ion-input",7),e.iHE("ngModelChange",function(a){return e.kNx(i.staffID,a)||(i.staffID=a),a}),e.C$Y()(),e.wR5(20,"br"),e.I0R(21,"ion-button",8),e.qCj("click",function(){return i.login()}),e.OEk(22,"Enter"),e.C$Y()()()()),2&t&&(e.E7m("translucent",!0),e.yG2(4),e.E7m("fullscreen",!0),e.yG2(9),e.E7m("ngIf",i.errorMessage),e.yG2(3),e.OKB("ngModel",i.housename),e.yG2(3),e.OKB("ngModel",i.staffID))},dependencies:[b.u_,c.ue,c._G,n.sn,n.KC,n.Gg,n.YY,n.MN,n.I7,n._i,n.wB,n.A5,n.Yb,n.tM,n.Md,n.qG],styles:["ion-header[_ngcontent-%COMP%]{--ion-background-color: #4194ab !important;--ion-color-base: #fff !important}ion-card-title[_ngcontent-%COMP%]{text-align:center;font-size:22px}.error-message[_ngcontent-%COMP%]{color:red;font-size:20px;margin-top:10px}ion-button[_ngcontent-%COMP%]{--padding-start: 40px;--padding-end: 40px;--padding-top: 10px;--padding-bottom: 10px;--background: #4194ab;--color: #fff;--border-radius: 10px;font-size:18px;font-weight:bolder}"]}),r})()}];let C=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[d.qQ.forChild(R),d.qQ]}),r})(),L=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[b.MD,c.y,n.wZ,C]}),r})()}}]);