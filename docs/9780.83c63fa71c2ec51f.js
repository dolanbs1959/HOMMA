"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9780],{9780:(F,h,a)=>{a.r(h),a.d(h,{HelpDeskModule:()=>O});var f=a(6814),r=a(849),s=a(95),T=a(491),v=a(5861),u=a(553),e=a(9212),g=a(4408),k=a(9862),Z=a(7398),b=a(9397);let y=(()=>{var t;class i{constructor(o){this.http=o,this.baseUrl=u.N.baseUrl,this.apiKey=u.N.apiKey,this.QUICKBASE_URL=u.N.QUICKBASE_URL,this.realm=u.N.realm,this.appId=u.N.appId,this.queryResidentTableId=u.N.queryResidentTableId,this.HelpDeskTableID=u.N.HelpDeskTableID}getHeaders(){return new k.WM({"QB-Realm-Hostname":this.realm,Authorization:`QB-USER-TOKEN ${this.apiKey}`,"Content-Type":"application/json"})}submitTicket(o){console.log("Inserting ticket:",JSON.stringify(o,null,2));const n=this.baseUrl,c={to:this.HelpDeskTableID,data:[o],fieldsToReturn:[3]};return console.log("Request URL:",n,c,{headers:this.getHeaders()}),this.http.post(n,c,{headers:this.getHeaders()}).pipe((0,Z.U)(p=>{var d;return console.log("Insert ticket Response:",p),null===(d=p.data[0])||void 0===d?void 0:d[3].value}))}getParticipantNames(){console.log("Querying for active participants:");const o={from:this.queryResidentTableId,select:[3,72],where:"{7.EX.'Area Supervisor'}OR{7.EX.'Program Participant'}OR{7.EX.'House Leader'}OR{7.EX.'Assistant House Leader'}OR{7.EX.'Participant Staff'}OR{7.EX.'Staff'}",options:{orderby:72,skip:0,top:0,compareWithAppLocalTime:!1}};return this.getHeaders(),console.log("Request Staff Tasks URL:",this.QUICKBASE_URL,o,{headers:this.getHeaders()}),this.http.post(this.QUICKBASE_URL,o,{headers:this.getHeaders()}).pipe((0,b.b)(c=>console.log("Response from server:",c)))}}return(t=i).\u0275fac=function(o){return new(o||t)(e.LFG(k.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();function C(t,i){if(1&t&&(e.TgZ(0,"ion-select-option",30),e._uU(1),e.qZA()),2&t){const l=i.$implicit;e.Q6J("value",l),e.xp6(),e.Oqu(l.name)}}function _(t,i){1&t&&(e.TgZ(0,"div"),e._uU(1," Invalid input: Please select a name from the list "),e.qZA())}function D(t,i){1&t&&(e.TgZ(0,"div"),e._uU(1," Invalid input: Please select a Contact Method "),e.qZA())}function H(t,i){1&t&&(e.TgZ(0,"div"),e._uU(1," Invalid input: Please select a Priority "),e.qZA())}function P(t,i){1&t&&(e.TgZ(0,"div"),e._uU(1," Invalid input: Please enter a detailed description "),e.qZA())}function U(t,i){1&t&&(e.TgZ(0,"div"),e._uU(1," Invalid input: Please enter a detailed description "),e.qZA())}function q(t,i){if(1&t&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&t){const l=e.oxw();e.xp6(),e.hij("Record Number: ",l.NewHelpDeskTicketId,"")}}function x(t,i){if(1&t){const l=e.EpF();e.TgZ(0,"div",29),e.NdJ("click",function(){e.CHM(l);const n=e.oxw();return e.KtG(n.reportForm.valid&&n.submitTicket())}),e._uU(1," Submit Help Desk Ticket "),e._UZ(2,"ion-ripple-effect"),e.qZA()}if(2&t){const l=e.oxw();e.ekj("disabled-button",!l.reportForm.valid)}}function A(t,i){if(1&t){const l=e.EpF();e.TgZ(0,"div",29),e.NdJ("click",function(){e.CHM(l);const n=e.oxw();return e.KtG(n.resetForm())}),e._uU(1," Reset Form "),e._UZ(2,"ion-ripple-effect"),e.qZA()}}let M=(()=>{var t;class i{constructor(o,n,c,p){this.router=o,this.HelpDeskService=n,this.formBuilder=c,this.datePipe=p,this.isLoading=!1,this.helpDeskTech=u.N.helpDeskTech,this.NewHelpDeskTicketId=0,this.dropdownChoices=[],this.reportForm=this.formBuilder.group({requestedBy:["",s.kI.required],preferredContactMethod:["",s.kI.required],requestedPriority:["",s.kI.required],ticketName:["",s.kI.required],ticketDefinition:["",s.kI.required],requestedDueDate:[""]})}exitApp(){this.router.navigate(["/login"])}resetForm(){this.reportForm.reset(),this.NewHelpDeskTicketId=0}submitTicket(){var o=this;return(0,v.Z)(function*(){o.isLoading=!0;const c={47:{value:o.reportForm.value.requestedBy.id},12:{value:o.reportForm.value.preferredContactMethod},10:{value:o.reportForm.value.requestedPriority},11:{value:o.reportForm.value.ticketName},9:{value:o.reportForm.value.ticketDefinition},24:{value:{id:o.helpDeskTech}},46:{value:o.datePipe.transform(o.reportForm.value.requestedDueDate,"yyyy-MM-dd")}};console.log("Ticket Body:",c),o.HelpDeskService.submitTicket(c).subscribe(function(){var p=(0,v.Z)(function*(d){console.log("Ticket inserted successfully",d),o.NewHelpDeskTicketId=d,console.log("New Ticket ID:",o.NewHelpDeskTicketId),o.isLoading=!1});return function(d){return p.apply(this,arguments)}}(),p=>{console.error("Error inserting record",p)})})()}ngOnInit(){this.HelpDeskService.getParticipantNames().subscribe(o=>{this.dropdownChoices=o.data.map(n=>({id:n[3].value,name:n[72].value})),this.dropdownChoices.sort((n,c)=>n.name.localeCompare(c.name))},o=>{console.error("Error getting dropdown choices:",o)})}}return(t=i).\u0275fac=function(o){return new(o||t)(e.Y36(g.F0),e.Y36(y),e.Y36(s.qu),e.Y36(f.uU))},t.\u0275cmp=e.Xpm({type:t,selectors:[["HOMMA-help-desk"]],decls:77,vars:12,consts:[[3,"translucent"],["color","Primary"],[3,"fullscreen"],[1,"logo-container"],["src","assets/logo/HOM.png","alt","Logo"],[1,"ion-text-center"],[1,"HelpTicketSteps"],[3,"formGroup"],["formControlName","requestedBy","label","Requested By","interface","action-sheet","placeholder","Select the your name","cancelText","Cancel Choice","label-placement","floating","fill","outline"],[3,"value",4,"ngFor","ngForOf"],[1,"error-message-text"],[4,"ngIf"],["formControlName","preferredContactMethod","label","Preferred Contact Method","interface","action-sheet","placeholder","How do you prefer to be contacted","label-placement","floating","fill","outline"],["value","Phone"],["value","Email"],["value","Text"],["formControlName","requestedPriority","label","Requested Priority","interface","action-sheet","placeholder","What priority are you requesting?","label-placement","floating","fill","outline"],["value","A"],["value","B"],["value","C"],["value","D"],["value","E"],["formControlName","ticketName","label","Ticket Name","labelPlacement","floating","placeholder","Please enter a title for the ticket here","value","","autoGrow","true",1,"bordered-input"],["formControlName","ticketDefinition","label","Ticket Description","labelPlacement","floating","placeholder","Please describe the issue in full detail","value","","autoGrow","true",1,"bordered-input"],[1,"stacked-label"],["type","date","formControlName","requestedDueDate"],[1,"wrapper"],["class","ion-activatable ripple-parent rounded-rectangle ripple-effect-blue",3,"disabled-button","click",4,"ngIf"],["class","ion-activatable ripple-parent rounded-rectangle ripple-effect-blue",3,"click",4,"ngIf"],[1,"ion-activatable","ripple-parent","rounded-rectangle","ripple-effect-blue",3,"click"],[3,"value"]],template:function(o,n){1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e._uU(3," HOM Mobile Assistant - Help Desk "),e.qZA()()(),e.TgZ(4,"ion-content",2)(5,"div",3),e._UZ(6,"img",4),e.qZA(),e.TgZ(7,"ion-card-header",5)(8,"b"),e._uU(9,"How to submit a Help Desk Ticket"),e.qZA()(),e.TgZ(10,"ion-card-subtitle",6)(11,"ul")(12,"li"),e._uU(13,"Choose a priority for your ticket. This is a request, not a guarantee. The helpdesk staff may change the priority level based on the current demand and the nature of your issue."),e.qZA(),e.TgZ(14,"li"),e._uU(15,"Write a brief name of the issue or suggestion that summarizes it."),e.qZA(),e.TgZ(16,"li"),e._uU(17,"Write a detailed description of what you are trying to do, what is happening, what you have tried so far, or what you would like it to do. The more information you provide, the easier it will be for the helpdesk staff to assist you."),e.qZA(),e.TgZ(18,"li"),e._uU(19,"Tap the button to Submit. The helpdesk staff will prioritize your request according to current demands. You may also be contacted if further communication is necessary."),e.qZA()()(),e.TgZ(20,"ion-card")(21,"ion-list",7)(22,"ion-select",8),e.YNc(23,C,2,2,"ion-select-option",9),e.qZA(),e.TgZ(24,"div",10),e.YNc(25,_,2,0,"div",11),e.qZA(),e._UZ(26,"br"),e.TgZ(27,"ion-select",12)(28,"ion-select-option",13),e._uU(29,"Phone"),e.qZA(),e.TgZ(30,"ion-select-option",14),e._uU(31,"Email"),e.qZA(),e.TgZ(32,"ion-select-option",15),e._uU(33,"Text"),e.qZA()(),e.TgZ(34,"div",10),e.YNc(35,D,2,0,"div",11),e.qZA(),e._UZ(36,"br"),e.TgZ(37,"ion-select",16)(38,"ion-select-option",17),e._uU(39,"Urgent"),e.qZA(),e.TgZ(40,"ion-select-option",18),e._uU(41,"Important"),e.qZA(),e.TgZ(42,"ion-select-option",19),e._uU(43,"ASAP"),e.qZA(),e.TgZ(44,"ion-select-option",20),e._uU(45,"Low Priority"),e.qZA(),e.TgZ(46,"ion-select-option",21),e._uU(47,"As Needed"),e.qZA()(),e.TgZ(48,"div",10),e.YNc(49,H,2,0,"div",11),e.qZA(),e.TgZ(50,"ion-list")(51,"ion-item"),e._UZ(52,"ion-textarea",22),e.qZA(),e.TgZ(53,"div",10),e.YNc(54,P,2,0,"div",11),e.qZA(),e._UZ(55,"br"),e.TgZ(56,"ion-list")(57,"ion-item"),e._UZ(58,"ion-textarea",23),e.qZA(),e.TgZ(59,"div",10),e.YNc(60,U,2,0,"div",11),e.qZA()(),e._UZ(61,"br"),e.TgZ(62,"ion-item")(63,"div",24)(64,"label"),e._uU(65,"Requested Due Date (Optional)"),e.qZA(),e._UZ(66,"ion-input",25),e.qZA()(),e._UZ(67,"br"),e.TgZ(68,"div",26),e.YNc(69,q,2,1,"p",11)(70,x,3,2,"div",27)(71,A,3,0,"div",28),e.TgZ(72,"div",26),e._UZ(73,"br"),e.TgZ(74,"div",29),e.NdJ("click",function(){return n.exitApp()}),e._uU(75," Return to Login Page "),e._UZ(76,"ion-ripple-effect"),e.qZA()()()()()()()),2&o&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(17),e.Q6J("formGroup",n.reportForm),e.xp6(2),e.Q6J("ngForOf",n.dropdownChoices),e.xp6(2),e.Q6J("ngIf",(null==n.reportForm.controls.requestedBy?null:n.reportForm.controls.requestedBy.invalid)&&n.reportForm.controls.requestedBy.touched),e.xp6(10),e.Q6J("ngIf",(null==n.reportForm.controls.preferredContactMethod?null:n.reportForm.controls.preferredContactMethod.invalid)&&n.reportForm.controls.preferredContactMethod.touched),e.xp6(14),e.Q6J("ngIf",(null==n.reportForm.controls.requestedPriority?null:n.reportForm.controls.requestedPriority.invalid)&&n.reportForm.controls.requestedPriority.touched),e.xp6(5),e.Q6J("ngIf",(null==n.reportForm.controls.ticketName?null:n.reportForm.controls.ticketName.invalid)&&n.reportForm.controls.ticketName.touched),e.xp6(6),e.Q6J("ngIf",(null==n.reportForm.controls.ticketDefinition?null:n.reportForm.controls.ticketDefinition.invalid)&&n.reportForm.controls.ticketDefinition.touched),e.xp6(9),e.Q6J("ngIf",n.NewHelpDeskTicketId),e.xp6(),e.Q6J("ngIf",!n.NewHelpDeskTicketId),e.xp6(),e.Q6J("ngIf",n.NewHelpDeskTicketId))},dependencies:[f.sg,f.O5,s.JJ,s.JL,r.PM,r.Zi,r.tO,r.W2,r.Gu,r.pK,r.Ie,r.q_,r.H$,r.t9,r.n0,r.g2,r.wd,r.sr,r.QI,r.j9,s.sg,s.u],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}.body-text[_ngcontent-%COMP%]{font-size:12px;line-height:16px;margin-top:0}.logo-container[_ngcontent-%COMP%]{text-align:center;margin-left:15px;margin-top:10px;margin-bottom:10px}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px;line-height:18px}ion-card-title.ion-text-center[_ngcontent-%COMP%]{font-size:26px;font-weight:bolder;color:#980707}.fields-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;line-height:16px;color:#2b9c4d;margin:0}.info-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}ul[_ngcontent-%COMP%]{list-style-type:decimal;padding:1}.HelpTicketSteps[_ngcontent-%COMP%]{font-size:12px;color:#2600ff;padding-left:5px;padding-right:15px;padding-top:0}.info-item[_ngcontent-%COMP%]{padding:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-card-header[_ngcontent-%COMP%]{font-family:Trebuchet MS;font-size:22px;font-weight:bolder;color:#2600ff;padding-bottom:0}ion-header[_ngcontent-%COMP%]{--ion-background-color: #4194ab !important;--ion-color-base: #fff !important}ion-title[_ngcontent-%COMP%]{font-size:1.1em;font-weight:400;text-shadow:none}ion-content[_ngcontent-%COMP%]{--ion-font-size: 12px}ion-buttons[_ngcontent-%COMP%]{font-size:1.1em}.ripple-effect-blue[_ngcontent-%COMP%]{color:#010384}.ripple-effect-lightblue[_ngcontent-%COMP%]{color:#00c8ff}.ripple-effect-red[_ngcontent-%COMP%]{color:#980707}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-around;height:100%;width:300px;margin:0 auto}b[_ngcontent-%COMP%]{width:100%}.ripple-parent[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;border:1px solid #4194ab;width:100%;height:50px;border-radius:8px;margin-bottom:10px}.rounded-rectangle[_ngcontent-%COMP%]{width:300px;height:50px;margin-bottom:5px;border-radius:8px}"]}),i})();var I=a(1043);const N=[{path:"",component:M}];let O=(()=>{var t;class i{}return(t=i).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[f.uU],imports:[f.ez,s.u5,r.Pc,I.lN,s.UX,T.Is,g.Bz.forChild(N),g.Bz]}),i})()}}]);