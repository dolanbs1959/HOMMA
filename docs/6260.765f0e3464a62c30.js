"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6260],{6260:(S,c,a)=>{a.r(c),a.d(c,{HomePageModule:()=>P});var p=a(6814),i=a(451),d=a(95),u=a(4091),m=a(9862),f=a(553),e=a(9212),h=a(6311);function M(n,r){1&n&&(e.TgZ(0,"div",22),e._uU(1," Status or Coordinates are blank. Use Get Current Location first and try again. "),e.qZA())}const _=[{path:"",component:(()=>{var n;class r{resetForm(){this.fieldLatitude="",this.fieldLongitude=""}toggleStatus(){this.status=""===this.status||"Onsite"===this.status?"Enroute":"Onsite"}constructor(o,t){this.quickbaseService=o,this.route=t,this.showError=!1,this.selectedStop="",this.fieldEmployee="",this.fieldDate="",this.fieldTime="",this.fieldLatitude="",this.fieldLongitude="",this.recordNumber=null,this.status=""}ngOnInit(){const o=this.route.snapshot.paramMap.get("recordNumber");if(o){const t=JSON.parse(o);this.recordNumber=t.value,this.fieldEmployee=t.value.toString()}}getLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(o=>{console.log("Latitude:",o.coords.latitude),console.log("Longitude:",o.coords.longitude);const t=new Date,s=`${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}-${t.getFullYear()}`,l=t.getHours(),C=l>=12?"PM":"AM",T=`${(l%12||12).toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")} ${C}`;this.toggleStatus(),this.fieldLatitude=o.coords.latitude.toString(),this.fieldLongitude=o.coords.longitude.toString(),this.fieldDate=s,this.fieldTime=T},o=>{console.error("Geolocation Error:",o)}):console.error("Geolocation is not supported by this browser.")}insertRecord(){console.log("fieldEmployee:",this.fieldEmployee),console.log("fieldStop:",this.selectedStop),console.log("fieldDate:",this.fieldDate),console.log("fieldTime:",this.fieldTime),console.log("FieldLatitude:",this.fieldLatitude),console.log("FieldLongitude:",this.fieldLongitude),""!==this.fieldLatitude||""!==this.fieldLongitude||""!==this.status?this.quickbaseService.insertRecord({to:f.N.insertTableId,data:[{72:{value:this.fieldEmployee},74:{value:this.fieldDate},77:{value:this.fieldTime},76:{value:this.fieldLatitude},75:{value:this.fieldLongitude},78:{value:this.selectedStop},79:{value:this.status}}]}).subscribe(t=>{console.log("API Response",t),this.resetForm()},t=>{console.error("API Error",t),t instanceof m.UA&&(console.error("Status:",t.status),console.error("Error Message:",t.error))}):(console.error("Coordinates are blank. Please Get Current Location first and try again."),this.showError=!0)}}return(n=r).\u0275fac=function(o){return new(o||n)(e.Y36(h.x),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:57,vars:16,consts:[[3,"translucent"],["color","Primary"],[3,"fullscreen"],[1,"ion-text-center"],["src","https://yourroofmedic.com/wp-content/uploads/2023/02/RoofMedic_Logo_400.png","alt","Logo"],[1,"ion-text-left"],[1,"fields-container"],["label","Employee #:","name","fieldEmployee","type","text",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","1st Stop"],["value","2nd Stop"],["value","3rd Stop"],["value","4th Stop"],["value","5th Stop"],["value","6th Stop"],["label","Date","name","fieldDate","type","text",3,"ngModel","ngModelChange"],["label","Time","name","fieldTime","type","text",3,"ngModel","ngModelChange"],["label","Latitude","name","fieldLatitude","type","text",3,"ngModel","ngModelChange"],["label","Longitude","name","fieldLongitude","type","text",3,"ngModel","ngModelChange"],["class","error-message",4,"ngIf"],["color","primary",3,"click"],["color","danger",3,"click"],[1,"error-message"]],template:function(o,t){1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e._uU(3," Geo Location Tracking App "),e.qZA()()(),e.TgZ(4,"ion-content",2)(5,"ion-card",3),e._UZ(6,"img",4)(7,"br")(8,"br"),e.TgZ(9,"ion-card-header")(10,"ion-card-title",3),e._uU(11,"Geolocation Coordinates"),e.qZA(),e.TgZ(12,"ion-card-subtitle",5),e._uU(13,"1. Select the stop number."),e._UZ(14,"br"),e._uU(15," 2. Click blue button to get current coordinates."),e._UZ(16,"br"),e._uU(17," 3. Click red button to update."),e.qZA()(),e.TgZ(18,"ion-card-content")(19,"div",6)(20,"ion-item")(21,"ion-input",7),e.NdJ("ngModelChange",function(l){return t.fieldEmployee=l}),e.qZA()(),e.TgZ(22,"ion-item")(23,"p"),e._uU(24),e.qZA(),e.TgZ(25,"select",8),e.NdJ("ngModelChange",function(l){return t.selectedStop=l}),e.TgZ(26,"option",9),e._uU(27,"1st Stop"),e.qZA(),e.TgZ(28,"option",10),e._uU(29,"2nd Stop"),e.qZA(),e.TgZ(30,"option",11),e._uU(31,"3rd Stop"),e.qZA(),e.TgZ(32,"option",12),e._uU(33,"4th Stop"),e.qZA(),e.TgZ(34,"option",13),e._uU(35,"5th Stop"),e.qZA(),e.TgZ(36,"option",14),e._uU(37,"6th Stop"),e.qZA()()()(),e._UZ(38,"br"),e.TgZ(39,"ion-item")(40,"ion-input",15),e.NdJ("ngModelChange",function(l){return t.fieldDate=l}),e.qZA()(),e._UZ(41,"br"),e.TgZ(42,"ion-item")(43,"ion-input",16),e.NdJ("ngModelChange",function(l){return t.fieldTime=l}),e.qZA()(),e._UZ(44,"br"),e.TgZ(45,"ion-item")(46,"ion-input",17),e.NdJ("ngModelChange",function(l){return t.fieldLatitude=l}),e.qZA()(),e._UZ(47,"br"),e.TgZ(48,"ion-item")(49,"ion-input",18),e.NdJ("ngModelChange",function(l){return t.fieldLongitude=l}),e.qZA()(),e.YNc(50,M,2,0,"div",19),e._UZ(51,"br"),e.TgZ(52,"ion-button",20),e.NdJ("click",function(){return t.getLocation()}),e._uU(53,"Get Current Location"),e.qZA(),e._UZ(54,"br"),e.TgZ(55,"ion-button",21),e.NdJ("click",function(){return t.insertRecord()}),e._uU(56,"Add Coordinates"),e.qZA()()()()),2&o&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(17),e.Q6J("ngModel",t.fieldEmployee),e.xp6(2),e.Udp("font-size",16,"px")("line-height",18,"px")("color","Enroute"===t.status?"#2b9c4d":"#FF0000"),e.xp6(),e.hij(" Status: ",t.status," "),e.xp6(),e.Q6J("ngModel",t.selectedStop),e.xp6(15),e.Q6J("ngModel",t.fieldDate),e.xp6(3),e.Q6J("ngModel",t.fieldTime),e.xp6(3),e.Q6J("ngModel",t.fieldLatitude),e.xp6(3),e.Q6J("ngModel",t.fieldLongitude),e.xp6(),e.Q6J("ngIf",t.showError))},dependencies:[p.O5,d.YN,d.Kr,d.EJ,d.JJ,d.On,i.YG,i.PM,i.FN,i.Zi,i.tO,i.Dq,i.W2,i.Gu,i.pK,i.Ie,i.wd,i.sr,i.j9],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}.fields-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#2b9c4d;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-header[mode=ios][_ngcontent-%COMP%]{--background: #d40000;--color: #fff}ion-header[_ngcontent-%COMP%]:not([mode=ios]){--background: #d40000;--color: #fff}ion-title[_ngcontent-%COMP%]{font-size:1.25em;font-weight:400;text-shadow:none}ion-content[_ngcontent-%COMP%]{--ion-font-size: 16px}ion-buttons[_ngcontent-%COMP%]{font-size:1.2em}"]}),r})()}];let Z=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(_),u.Bz]}),r})(),P=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,d.u5,i.Pc,Z]}),r})()}}]);