"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6260],{6260:(q,p,s)=>{s.r(p),s.d(p,{HomePageModule:()=>y});var d=s(6814),c=s(849),h=s(95),u=s(4408),e=s(9212),f=s(6311),v=s(2496);function _(t,r){if(1&t&&e._UZ(0,"img",18),2&t){const i=e.oxw().$implicit;e.Q6J("src",i.residentPhoto,e.LSH)}}function P(t,r){if(1&t){const i=e.EpF();e.TgZ(0,"ion-card")(1,"ion-card-content")(2,"a",16),e.NdJ("click",function(){const a=e.CHM(i).$implicit,l=e.oxw();return e.KtG(l.navigateToDetail(a.recordNumber2.value,!1,a.residentFullName.value))}),e.YNc(3,_,1,1,"img",17),e.TgZ(4,"p"),e._uU(5),e.qZA()()()()}if(2&t){const i=r.$implicit;e.xp6(3),e.Q6J("ngIf",i.residentPhoto),e.xp6(2),e.Oqu(i.residentFullName.value)}}function x(t,r){1&t&&(e.TgZ(0,"ion-card-title",3),e._uU(1,"Pending New Arrivals"),e.qZA())}function b(t,r){if(1&t){const i=e.EpF();e.TgZ(0,"ion-card")(1,"ion-card-content")(2,"a",16),e.NdJ("click",function(){const a=e.CHM(i).$implicit,l=e.oxw();return e.KtG(l.navigateToDetail(a.recordNumber2.value,!0,a.residentFullName.value))}),e._UZ(3,"div",19),e.ALo(4,"date"),e.qZA()()()}if(2&t){const i=r.$implicit;e.xp6(3),e.Q6J("innerHTML",i.residentFullName.value+" - Age: "+i.residentAge.value+" - Level: "+i.SOLevel.value+" - PRD: "+(i.PRD.value?e.xi3(4,1,i.PRD.value,"MM-dd-yyyy"):"TBD"),e.oJD)}}function H(t,r){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"div",19),e.qZA()),2&t){const i=r.$implicit;e.xp6(),e.Q6J("innerHTML",(null==i[6]?null:i[6].value)||"",e.oJD)}}function A(t,r){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,H,2,1,"div",10),e.qZA()),2&t){const i=e.oxw();e.xp6(),e.Q6J("ngForOf",i.announcements.slice().reverse())}}function M(t,r){1&t&&(e.TgZ(0,"div")(1,"p"),e._uU(2,"No announcements available."),e.qZA()())}const m=t=>({"background-color":t,color:"white"}),N=[{path:"",component:(()=>{var t;class r{constructor(n,o,a){this.quickbaseService=n,this.route=o,this.router=a,this.HouseLeaderName="",this.theHouseName="",this.HLphone="",this.residentPhoto="",this.residentFullName="",this.savedRecordNumber=0,this.weeklyHouseMeeting="",this.maxMeetingDate="",this.STAalert="",this.Alert="",this.announcements=[],this.residentData=[],this.pendingArrivals=[],this.quickbaseService.residentData.subscribe(l=>{this.residentData=l,console.log("Updated resident data:",this.residentData)}),this.quickbaseService.pendingArrivals.subscribe(l=>{this.pendingArrivals=l,console.log("Constructor Pending Arrivals:",this.pendingArrivals)}),this.STAalert=this.quickbaseService.STAalert,this.Alert=this.quickbaseService.Alert}payNow(){window.location.href="https://houseofmercyministries.net/payments/"}openStaffTasks(){this.quickbaseService.getStaffTasks().subscribe(n=>{const o=n.data.map(a=>({id:a[3].value,taskName:a[8].value,priority:a[15].value,status:a[22].value,role:a[32].value,houseName:a[36].value,frequency:a[47].value,p1on1sDue:a[263].value}));console.log("Transformed tasks:",o),this.router.navigate(["/staff-tasks"],{state:{tasks:o,theHouseName:this.theHouseName,HouseLeaderName:this.HouseLeaderName,HLphone:this.HLphone,maxMeetingDate:this.maxMeetingDate}})})}exitApp(){this.router.navigate(["/login"])}ngOnInit(){this.quickbaseService.refreshAnnouncements().subscribe(n=>{console.log("Announcements fetched:",n),this.announcements=n.data||[]},n=>{console.error("Error fetching announcements:",n)}),this.residentData=this.quickbaseService.residentData,this.pendingArrivals=this.quickbaseService.pendingArrivals,this.route.params.subscribe(n=>{console.log("Route params:",n),this.theHouseName=n.theHouseName,this.HouseLeaderName=n.HouseLeaderName,this.HLphone=n.HLphone,this.maxMeetingDate=n.maxMeetingDate})}navigateToDetail(n,o,a){const g={queryParams:{residentPhoto:this.residentPhoto||"assets/default-pic/defaultPhoto.png",residentName:a,theHouseName:this.theHouseName,houseLeaderName:this.HouseLeaderName,recordNumber2:n}};console.log("Navigation Extras:",g),o?(this.router.navigate(["/resident-update",n],g),console.log("Navigating to Resident Update:",n,"with extras:",g)):(this.router.navigate(["/home/resident-detail",n],g),console.log("Navigating to Resident Detail:",n,"with extras:",g))}}return(t=r).\u0275fac=function(n){return new(n||t)(e.Y36(f.x),e.Y36(u.gz),e.Y36(u.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-home"]],decls:56,vars:28,consts:[[3,"translucent"],["color","Primary"],[3,"fullscreen"],[1,"ion-text-center"],["src","assets/logo/HOM3.png","alt","Logo"],[1,"ion-text-left"],[1,"alert-format",3,"ngStyle"],[1,"wrapper"],[1,"ion-activatable","ripple-parent","rounded-rectangle","ripple-effect-lightblue",3,"click"],[1,"body-text"],[4,"ngFor","ngForOf"],["class","ion-text-center",4,"ngIf"],[1,"announcement-card"],[1,"bulletin-title"],[4,"ngIf"],[1,"ion-activatable","ripple-parent","rounded-rectangle","ripple-effect-red",3,"click"],[3,"click"],["alt","Resident Photo","class","thumbnail",3,"src",4,"ngIf"],["alt","Resident Photo",1,"thumbnail",3,"src"],[3,"innerHTML"]],template:function(n,o){if(1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e._uU(3," HOM Mobile Assistant - Participants "),e.qZA()()(),e.TgZ(4,"ion-content",2)(5,"ion-card",3),e._UZ(6,"img",4)(7,"br"),e.TgZ(8,"ion-card-header")(9,"ion-card-title",3),e._uU(10),e.qZA(),e.TgZ(11,"ion-card-subtitle",5),e._uU(12),e._UZ(13,"br"),e._uU(14),e._UZ(15,"br"),e.qZA()()(),e.TgZ(16,"div",6)(17,"p",3),e._uU(18),e.ALo(19,"extractText"),e.qZA()(),e.TgZ(20,"div",6)(21,"p",3),e._uU(22),e.ALo(23,"extractText"),e.qZA()(),e.TgZ(24,"div",7)(25,"div",8),e.NdJ("click",function(){return o.openStaffTasks()}),e._uU(26," Manage House Leader Tasks "),e._UZ(27,"ion-ripple-effect"),e.qZA(),e.TgZ(28,"div",9),e._uU(29,"Click on a resident's photo to view their details or submit forms."),e.qZA()(),e.TgZ(30,"ion-card-title",3),e._uU(31,"Active Participants"),e.qZA(),e.YNc(32,P,6,2,"ion-card",10),e.ALo(33,"async"),e._UZ(34,"router-outlet"),e.YNc(35,x,2,0,"ion-card-title",11),e.ALo(36,"async"),e.YNc(37,b,5,4,"ion-card",10),e.ALo(38,"async"),e.TgZ(39,"ion-card",12)(40,"ion-card-header")(41,"h1",13),e._uU(42,"HOM Bulletin Board"),e.qZA()(),e.TgZ(43,"ion-card-content"),e.YNc(44,A,2,1,"div",14)(45,M,3,0,"div",14),e.qZA()(),e.TgZ(46,"ion-card")(47,"ion-card-content")(48,"div",7)(49,"div",15),e.NdJ("click",function(){return o.payNow()}),e._uU(50," Pay Program Fees or Give/Tithe "),e._UZ(51,"ion-ripple-effect"),e.qZA(),e._UZ(52,"br"),e.TgZ(53,"div",15),e.NdJ("click",function(){return o.exitApp()}),e._uU(54," Return to Login Page "),e._UZ(55,"ion-ripple-effect"),e.qZA()()()()()),2&n){let a;e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(6),e.Oqu(o.theHouseName),e.xp6(2),e.hij("House Leader: ",o.HouseLeaderName,""),e.xp6(2),e.hij(" Phone: ",o.HLphone,""),e.xp6(2),e.Q6J("ngStyle",e.VKq(24,m,"No Alerts"==o.STAalert?"green":"red")),e.xp6(2),e.Oqu(e.lcZ(19,14,o.STAalert)),e.xp6(2),e.Q6J("ngStyle",e.VKq(26,m,o.Alert.includes("No Alerts")?"green":"red")),e.xp6(2),e.Oqu(e.lcZ(23,16,o.Alert)),e.xp6(10),e.Q6J("ngForOf",e.lcZ(33,18,o.quickbaseService.residentData)),e.xp6(3),e.Q6J("ngIf",(null==(a=e.lcZ(36,20,o.quickbaseService.pendingArrivals))?null:a.length)>0),e.xp6(2),e.Q6J("ngForOf",e.lcZ(38,22,o.quickbaseService.pendingArrivals)),e.xp6(7),e.Q6J("ngIf",o.announcements.length>0),e.xp6(),e.Q6J("ngIf",0===o.announcements.length)}},dependencies:[d.sg,d.O5,d.PC,c.PM,c.FN,c.Zi,c.tO,c.Dq,c.W2,c.Gu,c.H$,c.wd,c.sr,u.lC,d.Ov,d.uU,v.d],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}.body-text[_ngcontent-%COMP%]{font-size:12px;line-height:16px;margin-top:0}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px;line-height:18px}.fields-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;line-height:16px;color:#2b9c4d;margin:0}.thumbnail[_ngcontent-%COMP%]{width:100px;height:130px;object-fit:cover}.info-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.info-item[_ngcontent-%COMP%]{margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-header[_ngcontent-%COMP%]{--ion-background-color: #4194ab !important;--ion-color-base: #fff !important}ion-title[_ngcontent-%COMP%]{font-size:1.1em;font-weight:400;text-shadow:none}.alert-format[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#fa071b;margin:20px 40px 0;line-height:20px}.weekly-meeting-message[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{text-align:center;font-size:12px;color:#010384;font-weight:700}ion-content[_ngcontent-%COMP%]{--ion-font-size: 12px}ion-buttons[_ngcontent-%COMP%]{font-size:1.1em}.ripple-effect-blue[_ngcontent-%COMP%]{color:#010384}.ripple-effect-lightblue[_ngcontent-%COMP%]{color:#00c8ff}.ripple-effect-red[_ngcontent-%COMP%]{color:#980707}.wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;text-align:center;height:100px;width:300px;margin:0 auto}b[_ngcontent-%COMP%]{width:100%}.ripple-parent[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;border:1px solid #4194ab;width:100%;height:50px;border-radius:8px}.rounded-rectangle[_ngcontent-%COMP%]{width:300px;height:50px;border-radius:8px}.bulletin-title[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;font-weight:700;margin:0;padding:10px}.announcement-card[_ngcontent-%COMP%]{border:2px solid #3498db;border-radius:10px;margin-bottom:20px;max-height:200px;overflow-y:auto}"]}),r})()},{path:"resident-detail/:id",component:s(7036).v}];let O=(()=>{var t;class r{}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(N),u.Bz]}),r})();var C=s(1664);let y=(()=>{var t;class r{}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,h.u5,c.Pc,C.e,O]}),r})()}}]);