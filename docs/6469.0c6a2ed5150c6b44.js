"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6469],{2726:(ee,M,f)=>{f.d(M,{Sd:()=>j,Uw:()=>D,fo:()=>k});var u=f(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var A=function(s){return s.Unimplemented="UNIMPLEMENTED",s.Unavailable="UNAVAILABLE",s}(A||{});class N extends Error{constructor(t,i,r){super(t),this.message=t,this.code=i,this.data=r}}const J=s=>{var t,i,r,l,a;const n=s.CapacitorCustomPlatform||null,o=s.Capacitor||{},c=o.Plugins=o.Plugins||{},d=s.CapacitorPlatforms,C=(null===(t=null==d?void 0:d.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==n?n.name:(s=>{var t,i;return null!=s&&s.androidBridge?"android":null!==(i=null===(t=null==s?void 0:s.webkit)||void 0===t?void 0:t.messageHandlers)&&void 0!==i&&i.bridge?"ios":"web"})(s)),de=(null===(i=null==d?void 0:d.currentPlatform)||void 0===i?void 0:i.isNativePlatform)||(()=>"web"!==C()),pe=(null===(r=null==d?void 0:d.currentPlatform)||void 0===r?void 0:r.isPluginAvailable)||(m=>{const v=K.get(m);return!!(null!=v&&v.platforms.has(C())||se(m))}),se=(null===(l=null==d?void 0:d.currentPlatform)||void 0===l?void 0:l.getPluginHeader)||(m=>{var v;return null===(v=o.PluginHeaders)||void 0===v?void 0:v.find(F=>F.name===m)}),K=new Map,he=(null===(a=null==d?void 0:d.currentPlatform)||void 0===a?void 0:a.registerPlugin)||((m,v={})=>{const F=K.get(m);if(F)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),F.proxy;const U=C(),q=se(m);let w;const be=function(){var h=(0,u.Z)(function*(){return!w&&U in v?w=w="function"==typeof v[U]?yield v[U]():v[U]:null!==n&&!w&&"web"in v&&(w=w="function"==typeof v.web?yield v.web():v.web),w});return function(){return h.apply(this,arguments)}}(),V=h=>{let P;const Z=(...O)=>{const T=be().then(y=>{const R=((h,P)=>{var Z,O;if(!q){if(h)return null===(O=h[P])||void 0===O?void 0:O.bind(h);throw new N(`"${m}" plugin is not implemented on ${U}`,A.Unimplemented)}{const T=null==q?void 0:q.methods.find(y=>P===y.name);if(T)return"promise"===T.rtype?y=>o.nativePromise(m,P.toString(),y):(y,R)=>o.nativeCallback(m,P.toString(),y,R);if(h)return null===(Z=h[P])||void 0===Z?void 0:Z.bind(h)}})(y,h);if(R){const H=R(...O);return P=null==H?void 0:H.remove,H}throw new N(`"${m}.${h}()" is not implemented on ${U}`,A.Unimplemented)});return"addListener"===h&&(T.remove=(0,u.Z)(function*(){return P()})),T};return Z.toString=()=>`${h.toString()}() { [capacitor code] }`,Object.defineProperty(Z,"name",{value:h,writable:!1,configurable:!1}),Z},le=V("addListener"),ce=V("removeListener"),Ce=(h,P)=>{const Z=le({eventName:h},P),O=function(){var y=(0,u.Z)(function*(){const R=yield Z;ce({eventName:h,callbackId:R},P)});return function(){return y.apply(this,arguments)}}(),T=new Promise(y=>Z.then(()=>y({remove:O})));return T.remove=(0,u.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield O()}),T},X=new Proxy({},{get(h,P){switch(P){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return q?Ce:le;case"removeListener":return ce;default:return V(P)}}});return c[m]=X,K.set(m,{name:m,proxy:X,platforms:new Set([...Object.keys(v),...q?[U]:[]])}),X});return o.convertFileSrc||(o.convertFileSrc=m=>m),o.getPlatform=C,o.handleError=m=>s.console.error(m),o.isNativePlatform=de,o.isPluginAvailable=pe,o.pluginMethodNoop=(m,v,F)=>Promise.reject(`${F} does not have an implementation of "${v}".`),o.registerPlugin=he,o.Exception=N,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},x=(s=>s.Capacitor=J(s))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),k=x.registerPlugin;class D{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,i){var r=this;this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(i);const a=this.windowListeners[t];a&&!a.registered&&this.addWindowListener(a);const n=function(){var c=(0,u.Z)(function*(){return r.removeListener(t,i)});return function(){return c.apply(this,arguments)}}(),o=Promise.resolve({remove:n});return Object.defineProperty(o,"remove",{value:(c=(0,u.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield n()}),function(){return c.apply(this,arguments)})}),o;var c}removeAllListeners(){var t=this;return(0,u.Z)(function*(){t.listeners={};for(const i in t.windowListeners)t.removeWindowListener(t.windowListeners[i]);t.windowListeners={}})()}notifyListeners(t,i){const r=this.listeners[t];r&&r.forEach(l=>l(i))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,i){this.windowListeners[i]={registered:!1,windowEventName:t,pluginEventName:i,handler:r=>{this.notifyListeners(i,r)}}}unimplemented(t="not implemented"){return new x.Exception(t,A.Unimplemented)}unavailable(t="not available"){return new x.Exception(t,A.Unavailable)}removeListener(t,i){var r=this;return(0,u.Z)(function*(){const l=r.listeners[t];if(!l)return;const a=l.indexOf(i);r.listeners[t].splice(a,1),r.listeners[t].length||r.removeWindowListener(r.windowListeners[t])})()}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const I=s=>encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),S=s=>s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class G extends D{getCookies(){return(0,u.Z)(function*(){const t=document.cookie,i={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[l,a]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=S(l).trim(),a=S(a).trim(),i[l]=a}),i})()}setCookie(t){return(0,u.Z)(function*(){try{const i=I(t.key),r=I(t.value),l=`; expires=${(t.expires||"").replace("expires=","")}`,a=(t.path||"/").replace("path=",""),n=null!=t.url&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${i}=${r||""}${l}; path=${a}; ${n};`}catch(i){return Promise.reject(i)}})()}deleteCookie(t){return(0,u.Z)(function*(){try{document.cookie=`${t.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}})()}clearCookies(){return(0,u.Z)(function*(){try{const t=document.cookie.split(";")||[];for(const i of t)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(t){return Promise.reject(t)}})()}clearAllCookies(){var t=this;return(0,u.Z)(function*(){try{yield t.clearCookies()}catch(i){return Promise.reject(i)}})()}}k("CapacitorCookies",{web:()=>new G});const Y=function(){var s=(0,u.Z)(function*(t){return new Promise((i,r)=>{const l=new FileReader;l.onload=()=>{const a=l.result;i(a.indexOf(",")>=0?a.split(",")[1]:a)},l.onerror=a=>r(a),l.readAsDataURL(t)})});return function(i){return s.apply(this,arguments)}}(),j=(s,t={})=>{const i=Object.assign({method:s.method||"GET",headers:s.headers},t),l=((s={})=>{const t=Object.keys(s);return Object.keys(s).map(l=>l.toLocaleLowerCase()).reduce((l,a,n)=>(l[a]=s[t[n]],l),{})})(s.headers)["content-type"]||"";if("string"==typeof s.data)i.body=s.data;else if(l.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[n,o]of Object.entries(s.data||{}))a.set(n,o);i.body=a.toString()}else if(l.includes("multipart/form-data")||s.data instanceof FormData){const a=new FormData;if(s.data instanceof FormData)s.data.forEach((o,c)=>{a.append(c,o)});else for(const o of Object.keys(s.data))a.append(o,s.data[o]);i.body=a;const n=new Headers(i.headers);n.delete("content-type"),i.headers=n}else(l.includes("application/json")||"object"==typeof s.data)&&(i.body=JSON.stringify(s.data));return i};class B extends D{request(t){return(0,u.Z)(function*(){const i=j(t,t.webFetchExtra),r=((s,t=!0)=>s?Object.entries(s).reduce((r,l)=>{const[a,n]=l;let o,c;return Array.isArray(n)?(c="",n.forEach(d=>{o=t?encodeURIComponent(d):d,c+=`${a}=${o}&`}),c.slice(0,-1)):(o=t?encodeURIComponent(n):n,c=`${a}=${o}`),`${r}&${c}`},"").substr(1):null)(t.params,t.shouldEncodeUrlParams),l=r?`${t.url}?${r}`:t.url,a=yield fetch(l,i),n=a.headers.get("content-type")||"";let c,d,{responseType:o="text"}=a.ok?t:{};switch(n.includes("application/json")&&(o="json"),o){case"arraybuffer":case"blob":d=yield a.blob(),c=yield Y(d);break;case"json":c=yield a.json();break;default:c=yield a.text()}const b={};return a.headers.forEach((C,z)=>{b[z]=C}),{data:c,headers:b,status:a.status,url:a.url}})()}get(t){var i=this;return(0,u.Z)(function*(){return i.request(Object.assign(Object.assign({},t),{method:"GET"}))})()}post(t){var i=this;return(0,u.Z)(function*(){return i.request(Object.assign(Object.assign({},t),{method:"POST"}))})()}put(t){var i=this;return(0,u.Z)(function*(){return i.request(Object.assign(Object.assign({},t),{method:"PUT"}))})()}patch(t){var i=this;return(0,u.Z)(function*(){return i.request(Object.assign(Object.assign({},t),{method:"PATCH"}))})()}delete(t){var i=this;return(0,u.Z)(function*(){return i.request(Object.assign(Object.assign({},t),{method:"DELETE"}))})()}}k("CapacitorHttp",{web:()=>new B})},5346:(ee,M,f)=>{f.d(M,{ez:()=>p,tP:()=>u});var u=function(g){return g.Documents="DOCUMENTS",g.Data="DATA",g.Library="LIBRARY",g.Cache="CACHE",g.External="EXTERNAL",g.ExternalStorage="EXTERNAL_STORAGE",g}(u||{}),p=function(g){return g.UTF8="utf8",g.ASCII="ascii",g.UTF16="utf16",g}(p||{})},6469:(ee,M,f)=>{f.r(M),f.d(M,{ObservationReportPageModule:()=>i});var u=f(6814),p=f(849),_=f(95),E=f(4408),g=f(3564),L=f(5861),e=f(9212);const A=["videoElement"],N=["canvasElement"],$=["imageElement"];let J=(()=>{var r;class l{constructor(n,o){this.dialogRef=n,this.data=o,this.photoCaptured=new e.vpe}ngOnInit(){}onTakePhoto(){navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:"environment"}}}).catch(()=>navigator.mediaDevices.getUserMedia({video:!0})).then(n=>{this.stream=n,this.videoElement.nativeElement.srcObject=n}).catch(n=>{console.error("Error accessing camera: ",n)})}capturePhoto(){console.log("capturePhoto called");const n=this.canvasElement.nativeElement,o=n.getContext("2d");n.width=195,n.height=150,o.drawImage(this.videoElement.nativeElement,0,0,n.width,n.height),console.log("Image drawn onto canvas");const b=n.toDataURL("image/png");console.log("Image URL: ",b),this.imageElement.nativeElement.src=b,this.photoCaptured.emit(b),this.stream&&this.stream.getTracks().forEach(C=>C.stop())}onSelectPhoto(){this.dialogRef.close()}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(g.so),e.Y36(g.WI))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-select-photo-dialog"]],viewQuery:function(n,o){if(1&n&&(e.Gf(A,5),e.Gf(N,5),e.Gf($,5)),2&n){let c;e.iGM(c=e.CRH())&&(o.videoElement=c.first),e.iGM(c=e.CRH())&&(o.canvasElement=c.first),e.iGM(c=e.CRH())&&(o.imageElement=c.first)}},outputs:{photoCaptured:"photoCaptured"},decls:21,vars:1,consts:[[3,"translucent"],["color","Primary"],["src","assets/logo/HOM.png","alt","Logo"],[1,"ion-activatable","ripple-parent","rounded-rectangle","ripple-effect-green",3,"click"],["autoplay",""],["videoElement",""],[2,"display","none"],["canvasElement",""],[3,"click"],["alt","UA photo","title","Photo of UA specimen",2,"display","none"],["imageElement",""]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e._uU(3," Snap Photo of UA Specimen "),e.qZA()()(),e._UZ(4,"img",2)(5,"br"),e.TgZ(6,"mat-dialog-content")(7,"p"),e._uU(8,'Tap on the "Capture Image" button to open the camera view. To snap the photo, tap the "Take Photo" button.'),e.qZA()(),e.TgZ(9,"mat-dialog-actions")(10,"div",3),e.NdJ("click",function(){return o.onTakePhoto()}),e._uU(11," Capture Image "),e.qZA()(),e.TgZ(12,"p"),e._UZ(13,"video",4,5)(15,"canvas",6,7),e.qZA(),e.TgZ(17,"ion-button",8),e.NdJ("click",function(){return o.capturePhoto()}),e._uU(18,"Take Photo"),e.qZA(),e._UZ(19,"img",9,10)),2&n&&e.Q6J("translucent",!0)},dependencies:[p.YG,p.Gu,p.wd,p.sr,g.H8,g.xY],styles:["ion-header[_ngcontent-%COMP%]{--ion-background-color: #4194ab !important;--ion-color-base: #fff !important}ion-title[_ngcontent-%COMP%]{--ion-color-base: #fff !important;font-size:16px}ion-card-header[_ngcontent-%COMP%]{--padding-bottom: 0;font-size:16px;font-weight:700}ion-card-subtitle[_ngcontent-%COMP%]{--ion-color-base: #000 !important;font-size:12px;font-weight:inherit}ion-card-title[_ngcontent-%COMP%]{text-align:left}.error-message[_ngcontent-%COMP%]{color:red;font-size:20px;margin-top:10px}ion-card[_ngcontent-%COMP%]{justify-content:center}ion-card[_ngcontent-%COMP%]   .error-message-text[_ngcontent-%COMP%]{text-align:center;color:#87130a}ion-select[_ngcontent-%COMP%]{margin:0;padding:10px}.ripple-effect-green[_ngcontent-%COMP%]{color:#09bc0c98}.ripple-effect-yellow[_ngcontent-%COMP%]{color:#cf0}.ripple-effect-orange[_ngcontent-%COMP%]{color:#fb0}video[_ngcontent-%COMP%]{width:75%;height:75%;object-fit:cover}.wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;text-align:center;height:100px;width:200px;margin:0 auto}b[_ngcontent-%COMP%]{width:100%}.ripple-parent[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;border:1px solid #4194ab;width:100%;height:50px;border-radius:8px}.rounded-rectangle[_ngcontent-%COMP%]{width:200px;height:40px;border-radius:8px}"]}),l})();var te=f(2726),x=f(5346);const k=(0,te.fo)("Filesystem",{web:()=>f.e(4522).then(f.bind(f,4522)).then(r=>new r.FilesystemWeb)});var oe=f(553),ne=f(6311),D=f(5472);function re(r,l){if(1&r&&(e.TgZ(0,"ion-select-option",25),e._uU(1),e.qZA()),2&r){const a=l.$implicit;e.Q6J("value",a.id),e.xp6(),e.Oqu(a)}}function I(r,l){1&r&&(e.TgZ(0,"div"),e._uU(1," Invalid input: Please select an observation type "),e.qZA())}function S(r,l){1&r&&(e.TgZ(0,"div"),e._uU(1," Invalid input: Please select an observation tone "),e.qZA())}function G(r,l){1&r&&(e.TgZ(0,"div"),e._uU(1," Invalid input: Please select an observation class\n"),e.qZA())}function ie(r,l){if(1&r){const a=e.EpF();e.TgZ(0,"div",26)(1,"ion-button",27),e.NdJ("click",function(){e.CHM(a);const o=e.oxw();return e.KtG(o.openSelectPhotoDialog())}),e._uU(2," Tap here to take photo of the UA specimen\n"),e.qZA()()}}function Y(r,l){if(1&r&&(e.TgZ(0,"div",26),e._UZ(1,"img",28)(2,"br"),e.qZA()),2&r){const a=e.oxw();e.xp6(),e.Q6J("src",a.capturedPhoto,e.LSH)}}function W(r,l){1&r&&(e.TgZ(0,"div"),e._uU(1," Invalid input: Please enter a detailed description "),e.qZA())}function Q(r,l){1&r&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3,"Overnight Request"),e.qZA()(),e.TgZ(4,"ion-list")(5,"ion-item")(6,"div",29)(7,"label"),e._uU(8,"Departure Date & Time"),e.qZA(),e._UZ(9,"ion-input",30),e.qZA()(),e._UZ(10,"br"),e.TgZ(11,"ion-item")(12,"div",29)(13,"label"),e._uU(14,"Return Date & Time:"),e.qZA(),e._UZ(15,"ion-input",31),e.qZA()(),e._UZ(16,"br"),e.TgZ(17,"ion-item")(18,"div",29)(19,"label"),e._uU(20,"Location/Address:"),e.qZA(),e._UZ(21,"ion-input",32),e.qZA()(),e.TgZ(22,"ion-item")(23,"div",29)(24,"label"),e._uU(25,"County:"),e.qZA(),e._UZ(26,"ion-input",33),e.qZA()(),e.TgZ(27,"ion-item")(28,"div",29)(29,"label"),e._uU(30,"Emergency Contact:"),e.qZA(),e._UZ(31,"ion-input",34),e.qZA()(),e.TgZ(32,"ion-item")(33,"div",29)(34,"label"),e._uU(35,"Emergency Contact Phone:"),e.qZA(),e._UZ(36,"ion-input",35),e.qZA()(),e.TgZ(37,"ion-select",36)(38,"ion-select-option",37),e._uU(39,"Yes"),e.qZA(),e.TgZ(40,"ion-select-option",38),e._uU(41,"No"),e.qZA(),e.TgZ(42,"ion-select-option",39),e._uU(43,"N/A"),e.qZA()(),e.TgZ(44,"ion-select",40)(45,"ion-select-option",37),e._uU(46,"Yes"),e.qZA(),e.TgZ(47,"ion-select-option",38),e._uU(48,"No"),e.qZA(),e.TgZ(49,"ion-select-option",39),e._uU(50,"N/A"),e.qZA()(),e.TgZ(51,"ion-select",41)(52,"ion-select-option",37),e._uU(53,"Yes"),e.qZA(),e.TgZ(54,"ion-select-option",38),e._uU(55,"No"),e.qZA(),e.TgZ(56,"ion-select-option",39),e._uU(57,"N/A"),e.qZA()(),e.TgZ(58,"ion-select",42)(59,"ion-select-option",37),e._uU(60,"Yes"),e.qZA(),e.TgZ(61,"ion-select-option",38),e._uU(62,"No"),e.qZA(),e.TgZ(63,"ion-select-option",39),e._uU(64,"N/A"),e.qZA()(),e.TgZ(65,"ion-item"),e._UZ(66,"ion-textarea",43),e.qZA()()())}function j(r,l){if(1&r&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&r){const a=e.oxw();e.xp6(),e.hij("Record Number: ",a.NewObservationRecordId,"")}}function B(r,l){if(1&r){const a=e.EpF();e.TgZ(0,"div",24),e.NdJ("click",function(){e.CHM(a);const o=e.oxw();return e.KtG(o.reportForm.valid&&o.insertObservationReport())}),e._uU(1," Add Observation Report "),e._UZ(2,"ion-ripple-effect"),e.qZA()}if(2&r){const a=e.oxw();e.ekj("disabled-button",!a.reportForm.valid)}}function ae(r,l){if(1&r){const a=e.EpF();e.TgZ(0,"div",24),e.NdJ("click",function(){e.CHM(a);const o=e.oxw();return e.KtG(o.resetForm())}),e._uU(1," Reset Form "),e._UZ(2,"ion-ripple-effect"),e.qZA()}}const t=[{path:"",component:(()=>{var r;class l{constructor(n,o,c,d,b,C){this.router=n,this.location=o,this.quickbaseService=c,this.platform=d,this.formBuilder=b,this.dialog=C,this.photoCaptured=new e.vpe,this.apiKey=oe.N.apiKey,this.NewObservationRecordId=0,this.showRipple=!1,this.capturedPhoto="",this.savedPhotoPath="",this.photoDataUrl="",this.isLoading=!1,this.reportForm=this.formBuilder.group({observationType:["",_.kI.required],observationTone:["",_.kI.required],observationClass:["",_.kI.required],observationDescription:["",_.kI.required],DepartureDateTime:[""],ReturnDateTime:[""],LocationAddress:[""],County:[""],EmergencyContactName:[""],EmergencyContactPhone:[""],ccoApproved:[""],sotpApproved:[""],safetyPlan:[""],attendMeeting:[""],ReasonForRequest:[""]})}savePhoto(){var n=this;return(0,L.Z)(function*(){try{if(!n.capturedPhoto)return console.error("No photo to save"),Promise.resolve(null);const o=n.capturedPhoto.split(",")[1],c=(new Date).getTime()+".jpeg";return yield k.writeFile({path:c,data:o,directory:x.tP.Data}),n.savedPhotoPath=c,console.log("Saved Photo Path:",n.savedPhotoPath),console.log("Saved Photo:",c),{filepath:c,webviewPath:n.capturedPhoto}}catch(o){return console.error("Failed to save photo to filesystem",o),Promise.reject(o)}})()}onObservationTypeChange(n){this.showRipple="Dirty UA"===n.name}openSelectPhotoDialog(){const n=this.dialog.open(J,{width:"250px"});n.componentInstance.photoCaptured.subscribe(o=>{this.capturedPhoto=o,n.close()}),this.savePhoto()}addObservationReport(){this.router.navigate(["/home/observation-report"])}insertObservationReport(){var n=this;return(0,L.Z)(function*(){n.isLoading=!0;const c={194:{value:n.residentData.recordNumber2.value},7:{value:n.reportForm.value.observationType},51:{value:n.reportForm.value.observationTone},94:{value:n.reportForm.value.observationClass},8:{value:n.reportForm.value.observationDescription},119:{value:n.reportForm.value.DepartureDateTime},120:{value:n.reportForm.value.ReturnDateTime},121:{value:n.reportForm.value.LocationAddress},131:{value:n.reportForm.value.County},122:{value:n.reportForm.value.EmergencyContactName},123:{value:n.reportForm.value.EmergencyContactPhone},124:{value:n.reportForm.value.ccoApproved},125:{value:n.reportForm.value.sotpApproved},126:{value:n.reportForm.value.safetyPlan},127:{value:n.reportForm.value.ReasonForRequest},128:{value:n.reportForm.value.attendMeeting},59:{value:{fileName:"dirtyUA.png",data:n.capturedPhoto.split(",")[1]}}};console.log("Observation Report Body:",c),n.quickbaseService.observationreport(c).subscribe(function(){var d=(0,L.Z)(function*(b){console.log("Observation Report inserted successfully",b),n.NewObservationRecordId=b.data[0][3].value,console.log("New Observation Record ID:",n.NewObservationRecordId),n.isLoading=!1});return function(b){return d.apply(this,arguments)}}(),d=>{console.error("Error inserting record",d)})})()}resetForm(){this.reportForm.reset(),this.NewObservationRecordId=0}goBack(){this.location.back()}ngOnInit(){const n=this.reportForm.get("observationType");n&&n.valueChanges.subscribe(c=>{this.onObservationTypeChange(c)});const o=this.router.getCurrentNavigation();o&&o.extras.state&&(this.residentData=o.extras.state.residentData,console.log("Resident Data:",this.residentData)),this.quickbaseService.getDropdownChoices().subscribe(c=>{this.dropdownChoices=c.properties.choices,console.log("Dropdown Choices:",this.dropdownChoices)})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(E.F0),e.Y36(u.Ye),e.Y36(ne.x),e.Y36(D.t4),e.Y36(_.qu),e.Y36(g.uw))},r.\u0275cmp=e.Xpm({type:r,selectors:[["HOMMA-observationreport"]],inputs:{photo:"photo"},outputs:{photoCaptured:"photoCaptured"},decls:56,vars:16,consts:[[3,"translucent"],["color","Primary"],[3,"fullscreen"],[1,"ion-text-center"],["src","assets/logo/HOM.png","alt","Logo"],[3,"innerHTML"],[3,"formGroup"],["formControlName","observationType","label","Observation Type","interface","action-sheet","placeholder","Select the observation type","cancelText","Cancel Choice","label-placement","floating","fill","outline"],[3,"value",4,"ngFor","ngForOf"],[1,"error-message-text"],[4,"ngIf"],["formControlName","observationTone","label","Observation Tone","interface","action-sheet","placeholder","What is the particapant's emotion","label-placement","floating","fill","outline"],["value","Humble"],["value","Hostile"],["value","No Emotion"],["formControlName","observationClass","label","Observation Class","interface","action-sheet","placeholder","Is the observation positive, negative, or neutral?","label-placement","floating","fill","outline"],["value","Positive"],["value","Negative"],["value","Neutral"],["class","center-div",4,"ngIf"],["formControlName","observationDescription","label","Observation Description","labelPlacement","floating","placeholder","Please enter full details of the observation here","value","","autoGrow","true",1,"bordered-input"],[1,"wrapper"],["class","ion-activatable ripple-parent rounded-rectangle ripple-effect-blue",3,"disabled-button","click",4,"ngIf"],["class","ion-activatable ripple-parent rounded-rectangle ripple-effect-blue",3,"click",4,"ngIf"],[1,"ion-activatable","ripple-parent","rounded-rectangle","ripple-effect-blue",3,"click"],[3,"value"],[1,"center-div"],[3,"click"],["alt","Captured Photo placeholder",3,"src"],[1,"stacked-label"],["type","datetime-local","formControlName","DepartureDateTime"],["type","datetime-local","formControlName","ReturnDateTime"],["type","text","formControlName","LocationAddress","placeholder","Enter Location/Address"],["type","text","formControlName","County","placeholder","Enter County"],["type","text","formControlName","EmergencyContactName","placeholder","Enter Emergency Contact Name"],["type","text","formControlName","EmergencyContactPhone","placeholder","Enter Emergency Contact Phone"],["formControlName","ccoApproved","label","CCO Approved?","interface","action-sheet","placeholder","Select option for CCO Approval","label-placement","floating","fill","outline"],["value","Yes"],["value","No"],["value","N/A"],["formControlName","sotpApproved","label","SOTP Therapist Approved?","interface","action-sheet","placeholder","Select option for SOTP Therapist Approval","label-placement","floating","fill","outline"],["formControlName","safetyPlan","label","Safety Plan Required?","interface","action-sheet","placeholder","Select option if a safety plan is required","label-placement","floating","fill","outline"],["formControlName","attendMeeting","label","Attend Required Meeting?","interface","action-sheet","placeholder","Select option if a attending the meeting is required","label-placement","floating","fill","outline"],["formControlName","ReasonForRequest","label","Reason For Request","labelPlacement","floating","placeholder","Please enter reason for the overnight request here","value","","autoGrow","true",1,"bordered-input"]],template:function(n,o){if(1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e._uU(3," HOM Mobile Assistant - Add Observation Report "),e.qZA()()(),e.TgZ(4,"ion-content",2)(5,"ion-card",3),e._UZ(6,"img",4)(7,"br"),e.TgZ(8,"ion-card-header"),e._uU(9," Add an Observation Report for: "),e.TgZ(10,"ion-card-subtitle"),e._UZ(11,"br")(12,"div",5),e._uU(13),e.qZA()()(),e.TgZ(14,"ion-card")(15,"ion-list",6)(16,"ion-select",7),e.YNc(17,re,2,2,"ion-select-option",8),e.qZA(),e.TgZ(18,"div",9),e.YNc(19,I,2,0,"div",10),e.qZA(),e.TgZ(20,"ion-select",11)(21,"ion-select-option",12),e._uU(22,"Humble"),e.qZA(),e.TgZ(23,"ion-select-option",13),e._uU(24,"Hostile"),e.qZA(),e.TgZ(25,"ion-select-option",14),e._uU(26,"No emotion"),e.qZA()(),e.TgZ(27,"div",9),e.YNc(28,S,2,0,"div",10),e.qZA(),e.TgZ(29,"ion-select",15)(30,"ion-select-option",16),e._uU(31,"Positive"),e.qZA(),e.TgZ(32,"ion-select-option",17),e._uU(33,"Negative"),e.qZA(),e.TgZ(34,"ion-select-option",18),e._uU(35,"Neutral"),e.qZA()(),e.TgZ(36,"div",9),e.YNc(37,G,2,0,"div",10),e.qZA(),e._UZ(38,"br"),e.YNc(39,ie,3,0,"div",19),e._UZ(40,"br"),e.YNc(41,Y,3,1,"div",19),e.TgZ(42,"ion-list")(43,"ion-item"),e._UZ(44,"ion-textarea",20),e.qZA(),e.TgZ(45,"div",9),e.YNc(46,W,2,0,"div",10),e.qZA(),e.YNc(47,Q,67,0,"ion-card",10),e.TgZ(48,"div",21),e.YNc(49,j,2,1,"p",10)(50,B,3,2,"div",22)(51,ae,3,0,"div",23),e._UZ(52,"br"),e.TgZ(53,"div",24),e.NdJ("click",function(){return o.goBack()}),e._uU(54," Back/Start Over "),e._UZ(55,"ion-ripple-effect"),e.qZA()()()()()()),2&n){let c,d;e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(8),e.Q6J("innerHTML",o.residentData.residentPhoto.value,e.oJD),e.xp6(),e.hij(" ",o.residentData.residentFullName.value," "),e.xp6(2),e.Q6J("formGroup",o.reportForm),e.xp6(2),e.Q6J("ngForOf",o.dropdownChoices),e.xp6(2),e.Q6J("ngIf",(null==o.reportForm.controls.observationType?null:o.reportForm.controls.observationType.invalid)&&o.reportForm.controls.observationType.touched),e.xp6(9),e.Q6J("ngIf",(null==o.reportForm.controls.observationTone?null:o.reportForm.controls.observationTone.invalid)&&o.reportForm.controls.observationTone.touched),e.xp6(9),e.Q6J("ngIf",(null==o.reportForm.controls.observationClass?null:o.reportForm.controls.observationClass.invalid)&&o.reportForm.controls.observationClass.touched),e.xp6(2),e.Q6J("ngIf","Dirty UA"===(null==(c=o.reportForm.get("observationType"))?null:c.value)),e.xp6(2),e.Q6J("ngIf",o.capturedPhoto),e.xp6(5),e.Q6J("ngIf",(null==o.reportForm.controls.observationDescription?null:o.reportForm.controls.observationDescription.invalid)&&o.reportForm.controls.observationDescription.touched),e.xp6(),e.Q6J("ngIf","Overnight Request"===(null==(d=o.reportForm.get("observationType"))?null:d.value)),e.xp6(2),e.Q6J("ngIf",o.NewObservationRecordId),e.xp6(),e.Q6J("ngIf",!o.NewObservationRecordId),e.xp6(),e.Q6J("ngIf",o.NewObservationRecordId)}},dependencies:[u.sg,u.O5,_.JJ,_.JL,p.YG,p.PM,p.Zi,p.tO,p.Dq,p.W2,p.Gu,p.pK,p.Ie,p.q_,p.H$,p.t9,p.n0,p.g2,p.wd,p.sr,p.QI,p.j9,_.sg,_.u],styles:["ion-header[_ngcontent-%COMP%]{--ion-background-color: #4194ab !important;--ion-color-base: #fff !important}ion-title[_ngcontent-%COMP%]{--ion-color-base: #fff !important;font-size:16px}ion-card-header[_ngcontent-%COMP%]{--padding-bottom: 0;font-size:16px;font-weight:700}ion-card-subtitle[_ngcontent-%COMP%]{--ion-color-base: #000 !important;font-size:12px;font-weight:inherit}ion-card-title[_ngcontent-%COMP%]{text-align:left}.error-message[_ngcontent-%COMP%]{color:red;font-size:20px;margin-top:10px}ion-card[_ngcontent-%COMP%]{justify-content:center}ion-card[_ngcontent-%COMP%]   .error-message-text[_ngcontent-%COMP%]{text-align:center;color:#87130a}ion-select[_ngcontent-%COMP%]{margin:0;padding:10px}form[_ngcontent-%COMP%]{margin:0;padding:10px}.ripple-effect-blue[_ngcontent-%COMP%]{color:#010384}.ripple-effect-lightblue[_ngcontent-%COMP%]{color:#00c8ff}.ripple-effect-orange[_ngcontent-%COMP%]{color:#6c5105;font-size:x-small}.wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;text-align:center;height:100px;width:200px;margin:0 auto}b[_ngcontent-%COMP%]{width:100%}.center-div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%}.ripple-parent[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;border:1px solid #4194ab;width:100%;height:50px;border-radius:8px}.rounded-rectangle[_ngcontent-%COMP%]{width:200px;height:40px;border-radius:8px}.bordered-input[_ngcontent-%COMP%]{border:1px solid #4194ab;white-space:pre-wrap}.stacked-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#4194ab}ion-button[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;--padding-top: 0px;--padding-bottom: 0px;--background: #87130a;--color: #fff;--border-radius: 8px;font-size:12px;font-weight:700}"]}),l})()}];let i=(()=>{var r;class l{}return(r=l).\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[u.ez,_.u5,p.Pc,_.UX,g.Is,E.Bz.forChild(t)]}),l})()}}]);