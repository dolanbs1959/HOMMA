"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7111],{7111:(O,g,s)=>{s.r(g),s.d(g,{ResidentUpdatePageModule:()=>M});var p=s(6814),i=s(849),c=s(6223),d=s(4408),e=s(9212),f=s(6311),_=s(9669);function U(t,a){if(1&t&&e._UZ(0,"img",22),2&t){const n=e.oxw();e.Q6J("src",n.residentPhoto,e.LSH)}}function h(t,a){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(),e.Oqu(n.residentData.residentFullName.value)}}function T(t,a){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(),e.Oqu(n.pendingArrival.residentFullName.value)}}function A(t,a){if(1&t&&(e.TgZ(0,"ion-item")(1,"div",23)(2,"label"),e._uU(3,"Move Date"),e.qZA(),e._UZ(4,"ion-datetime",24),e.qZA()()),2&t){const n=e.oxw();e.xp6(4),e.Q6J("value",n.currentDate)}}function b(t,a){1&t&&(e.TgZ(0,"ion-item")(1,"ion-select",25)(2,"ion-select-option",26),e._uU(3,"1"),e.qZA(),e.TgZ(4,"ion-select-option",27),e._uU(5,"2"),e.qZA(),e.TgZ(6,"ion-select-option",28),e._uU(7,"3"),e.qZA(),e.TgZ(8,"ion-select-option",29),e._uU(9,"4"),e.qZA(),e.TgZ(10,"ion-select-option",30),e._uU(11,"5"),e.qZA(),e.TgZ(12,"ion-select-option",31),e._uU(13,"6"),e.qZA(),e.TgZ(14,"ion-select-option",32),e._uU(15,"7"),e.qZA(),e.TgZ(16,"ion-select-option",33),e._uU(17,"8"),e.qZA(),e.TgZ(18,"ion-select-option",34),e._uU(19,"9"),e.qZA(),e.TgZ(20,"ion-select-option",35),e._uU(21,"10"),e.qZA()()())}function q(t,a){1&t&&(e.TgZ(0,"ion-item")(1,"ion-select",36)(2,"ion-select-option",26),e._uU(3,"1"),e.qZA(),e.TgZ(4,"ion-select-option",37),e._uU(5,"1T"),e.qZA(),e.TgZ(6,"ion-select-option",27),e._uU(7,"2"),e.qZA(),e.TgZ(8,"ion-select-option",38),e._uU(9,"2T"),e.qZA(),e.TgZ(10,"ion-select-option",28),e._uU(11,"3"),e.qZA(),e.TgZ(12,"ion-select-option",39),e._uU(13,"3T"),e.qZA(),e.TgZ(14,"ion-select-option",29),e._uU(15,"4"),e.qZA(),e.TgZ(16,"ion-select-option",40),e._uU(17,"4T"),e.qZA(),e.TgZ(18,"ion-select-option",30),e._uU(19,"5"),e.qZA(),e.TgZ(20,"ion-select-option",41),e._uU(21,"5T"),e.qZA(),e.TgZ(22,"ion-select-option",31),e._uU(23,"6"),e.qZA(),e.TgZ(24,"ion-select-option",42),e._uU(25,"6T"),e.qZA(),e.TgZ(26,"ion-select-option",32),e._uU(27,"7"),e.qZA(),e.TgZ(28,"ion-select-option",43),e._uU(29,"7T"),e.qZA(),e.TgZ(30,"ion-select-option",33),e._uU(31,"8"),e.qZA(),e.TgZ(32,"ion-select-option",44),e._uU(33,"8T"),e.qZA(),e.TgZ(34,"ion-select-option",34),e._uU(35,"9"),e.qZA(),e.TgZ(36,"ion-select-option",45),e._uU(37,"9T"),e.qZA(),e.TgZ(38,"ion-select-option",35),e._uU(39,"10"),e.qZA(),e.TgZ(40,"ion-select-option",46),e._uU(41,"10T"),e.qZA(),e.TgZ(42,"ion-select-option",47),e._uU(43,"11"),e.qZA(),e.TgZ(44,"ion-select-option",48),e._uU(45,"11T"),e.qZA(),e.TgZ(46,"ion-select-option",49),e._uU(47,"12"),e.qZA(),e.TgZ(48,"ion-select-option",50),e._uU(49,"12T"),e.qZA(),e.TgZ(50,"ion-select-option",51),e._uU(51,"13"),e.qZA(),e.TgZ(52,"ion-select-option",52),e._uU(53,"14"),e.qZA(),e.TgZ(54,"ion-select-option",53),e._uU(55,"15"),e.qZA(),e.TgZ(56,"ion-select-option",54),e._uU(57,"16"),e.qZA(),e.TgZ(58,"ion-select-option",55),e._uU(59,"17"),e.qZA(),e.TgZ(60,"ion-select-option",56),e._uU(61,"18"),e.qZA(),e.TgZ(62,"ion-select-option",57),e._uU(63,"19"),e.qZA(),e.TgZ(64,"ion-select-option",58),e._uU(65,"20"),e.qZA()()())}function x(t,a){if(1&t&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(),e.hij("Record Number: ",n.NewResidentUpdateId,"")}}function C(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",21),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.reportForm.valid&&o.insertNewResidentUpdate())}),e._uU(1," Add Resident Update "),e._UZ(2,"ion-ripple-effect"),e.qZA()}if(2&t){const n=e.oxw();e.ekj("disabled-button",!n.reportForm.valid)}}function R(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",21),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.resetForm())}),e._uU(1," Reset Form "),e._UZ(2,"ion-ripple-effect"),e.qZA()}}const w=[{path:"",component:(()=>{var t;class a{constructor(r,o,l,u,N,P){this.router=r,this.route=o,this.location=l,this.quickbaseService=u,this.formBuilder=N,this.photoStorageService=P,this.currentDate=(new Date).toISOString().split("T")[0],this.NewResidentUpdateId=0,this.showRipple=!1,this.reportForm=this.formBuilder.group({RUStatus:[""],OccupancyStatus:[""],MoveDate:[this.currentDate],NewRoom:[""],NewBed:[""],Notes:[""]});const v=this.reportForm.get("OccupancyStatus");v&&v.valueChanges.subscribe(m=>{if(m&&!m.toLowerCase().includes("move")){const Z=this.reportForm.get("MoveDate");Z&&Z.setValue(null)}})}insertNewResidentUpdate(){this.quickbaseService.residentupdate({15:{value:this.pendingArrival?this.pendingArrival.recordNumber2.value:this.residentData.recordNumber2.value},23:{value:this.reportForm.value.OccupancyStatus},50:{value:this.reportForm.value.MoveDate},33:{value:this.reportForm.value.NewRoom},34:{value:this.reportForm.value.NewBed},24:{value:this.reportForm.value.Notes}}).subscribe(l=>{console.log("Resident Update inserted successfully",l),this.NewResidentUpdateId=l.data[0][3].value,console.log("New Resident Update recorID:",this.NewResidentUpdateId)},l=>{console.error("Error inserting record",l)})}resetForm(){this.reportForm.reset(),this.NewResidentUpdateId=0}goBack(){this.location.back()}ngOnInit(){const r=Number(this.route.snapshot.paramMap.get("id"));console.log("ID:",r);const o=this.router.getCurrentNavigation();o&&o.extras.state?(this.residentData=o.extras.state.residentData,console.log("Resident Update Data:",this.residentData),this.residentData&&(this.residentPhoto=this.photoStorageService.getPhoto(this.residentData.recordNumber2.value),console.log("Resident Photo:",this.residentPhoto))):this.quickbaseService.pendingArrivals.subscribe(l=>{console.log("Data:",l),this.pendingArrival=l.find(u=>u.recordNumber2.value===r),console.log("residentupdate Pending Arrival record:",this.pendingArrival),this.pendingArrival&&(this.residentPhoto=this.photoStorageService.getPhoto(this.pendingArrival.recordNumber2.value),console.log("Resident Photo:",this.residentPhoto))})}}return(t=a).\u0275fac=function(r){return new(r||t)(e.Y36(d.F0),e.Y36(d.gz),e.Y36(p.Ye),e.Y36(f.x),e.Y36(c.qu),e.Y36(_.F))},t.\u0275cmp=e.Xpm({type:t,selectors:[["HOMMA-residentupdate"]],decls:52,vars:12,consts:[[3,"translucent"],["color","Primary"],[3,"fullscreen"],[1,"ion-text-center"],["src","assets/logo/HOM3.png","alt","Logo"],["alt","Resident Photo",3,"src",4,"ngIf"],[4,"ngIf"],[3,"formGroup"],["formControlName","OccupancyStatus","label","Occupancy Status","interface","action-sheet","placeholder","Select the occupancy status of the resident","label-placement","floating","fill","outline"],["value","Information Updates"],["value","Moved Beds"],["value","Moved House"],["value","Moved In"],["value","Moved Out"],["value","Planned Move (Lateral)"],["value","Planned Move Out"],["value","Not Arrived on PRD"],["formControlName","Notes","label","Note","labelPlacement","floating","placeholder","Please enter any notes pertaining to this resident update here","value","","autoGrow","true",1,"bordered-input"],[1,"wrapper"],["class","ion-activatable ripple-parent rounded-rectangle ripple-effect-blue",3,"disabled-button","click",4,"ngIf"],["class","ion-activatable ripple-parent rounded-rectangle ripple-effect-blue",3,"click",4,"ngIf"],[1,"ion-activatable","ripple-parent","rounded-rectangle","ripple-effect-blue",3,"click"],["alt","Resident Photo",3,"src"],[1,"stacked-label"],["presentation","date","formControlName","MoveDate",3,"value"],["formControlName","NewRoom","label","New Room #","interface","action-sheet","placeholder","Select the new room # of the resident","label-placement","floating","fill","outline"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["formControlName","NewBed","label","New Bed #","interface","action-sheet","placeholder","Select the new bed # of the resident","label-placement","floating","fill","outline"],["value","1T"],["value","2T"],["value","3T"],["value","4T"],["value","5T"],["value","6T"],["value","7T"],["value","8T"],["value","9T"],["value","10T"],["value","11"],["value","11T"],["value","12"],["value","12T"],["value","13"],["value","14"],["value","15"],["value","16"],["value","17"],["value","18"],["value","19"],["value","20"]],template:function(r,o){1&r&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e._uU(3," HOM Mobile Assistant - Add Resident Update "),e.qZA()()(),e.TgZ(4,"ion-content",2)(5,"ion-card",3),e._UZ(6,"img",4)(7,"br"),e.TgZ(8,"ion-card-header")(9,"h1"),e._uU(10,"Adding a Resident Update for:"),e.qZA(),e.TgZ(11,"ion-card-subtitle"),e._UZ(12,"br"),e.YNc(13,U,1,1,"img",5)(14,h,2,1,"div",6)(15,T,2,1,"div",6),e.qZA()()(),e.TgZ(16,"ion-card")(17,"ion-list",7)(18,"ion-select",8)(19,"ion-select-option",9),e._uU(20,"Information Updates (emergency contacts, new phone #'s, new employment, CCO contact info, etc.)"),e.qZA(),e.TgZ(21,"ion-select-option",10),e._uU(22,"Moved Beds"),e.qZA(),e.TgZ(23,"ion-select-option",11),e._uU(24,"Moved House"),e.qZA(),e.TgZ(25,"ion-select-option",12),e._uU(26,"Moved In"),e.qZA(),e.TgZ(27,"ion-select-option",13),e._uU(28,"Moved Out"),e.qZA(),e.TgZ(29,"ion-select-option",14),e._uU(30,"Planned Move (Lateral)"),e.qZA(),e.TgZ(31,"ion-select-option",15),e._uU(32,"Planned Move Out"),e.qZA(),e.TgZ(33,"ion-select-option",16),e._uU(34,"Not Arrived on PRD"),e.qZA()(),e.YNc(35,A,5,1,"ion-item",6),e._UZ(36,"br"),e.YNc(37,b,22,0,"ion-item",6),e._UZ(38,"br"),e.YNc(39,q,66,0,"ion-item",6),e._UZ(40,"br"),e.TgZ(41,"ion-list")(42,"ion-item"),e._UZ(43,"ion-textarea",17),e.qZA()(),e.TgZ(44,"div",18),e.YNc(45,x,2,1,"p",6)(46,C,3,2,"div",19)(47,R,3,0,"div",20),e._UZ(48,"br"),e.TgZ(49,"div",21),e.NdJ("click",function(){return o.goBack()}),e._uU(50," Back/Start Over "),e._UZ(51,"ion-ripple-effect"),e.qZA()()()()()),2&r&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(9),e.Q6J("ngIf",o.residentPhoto),e.xp6(),e.Q6J("ngIf",o.residentData),e.xp6(),e.Q6J("ngIf",o.pendingArrival),e.xp6(2),e.Q6J("formGroup",o.reportForm),e.xp6(18),e.Q6J("ngIf",o.reportForm.value.OccupancyStatus&&o.reportForm.value.OccupancyStatus.toLowerCase().includes("move")),e.xp6(2),e.Q6J("ngIf",o.reportForm.value.OccupancyStatus&&o.reportForm.value.OccupancyStatus.toLowerCase().includes("move")),e.xp6(2),e.Q6J("ngIf",o.reportForm.value.OccupancyStatus&&o.reportForm.value.OccupancyStatus.toLowerCase().includes("move")),e.xp6(6),e.Q6J("ngIf",o.NewResidentUpdateId),e.xp6(),e.Q6J("ngIf",!o.NewResidentUpdateId),e.xp6(),e.Q6J("ngIf",o.NewResidentUpdateId))},dependencies:[p.O5,c.JJ,c.JL,c.sg,c.u,i.PM,i.Zi,i.tO,i.W2,i.x4,i.Gu,i.Ie,i.q_,i.H$,i.t9,i.n0,i.g2,i.wd,i.sr,i.QI,i.j9],styles:["ion-header[_ngcontent-%COMP%]{--ion-background-color: #4194ab !important;--ion-color-base: #fff !important}ion-title[_ngcontent-%COMP%]{--ion-color-base: #fff !important;font-size:16px}ion-card-header[_ngcontent-%COMP%]{--padding-bottom: 0;font-size:16px;font-weight:700}ion-card-subtitle[_ngcontent-%COMP%]{--ion-color-base: #000 !important;font-size:12px;font-weight:inherit}ion-card-title[_ngcontent-%COMP%]{text-align:left}.error-message[_ngcontent-%COMP%]{color:red;font-size:20px;margin-top:10px}ion-select[_ngcontent-%COMP%]{margin:0;padding:10px}form[_ngcontent-%COMP%]{margin:0;padding:10px}.ripple-effect-blue[_ngcontent-%COMP%]{color:#010384}.ripple-effect-lightblue[_ngcontent-%COMP%]{color:#00c8ff}.ripple-effect-orange[_ngcontent-%COMP%]{color:#6c5105;font-size:x-small}.wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;text-align:center;height:100px;width:200px;margin:0 auto}b[_ngcontent-%COMP%]{width:100%}.center-div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%}.ripple-parent[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;border:1px solid #4194ab;width:100%;height:50px;border-radius:8px}.rounded-rectangle[_ngcontent-%COMP%]{width:200px;height:40px;border-radius:8px}.bordered-input[_ngcontent-%COMP%]{border:1px solid #4194ab;white-space:pre-wrap}.stacked-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#4194ab}ion-button[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;--padding-top: 0px;--padding-bottom: 0px;--background: #87130a;--color: #fff;--border-radius: 8px;font-size:12px;font-weight:700}"]}),a})()}];let M=(()=>{var t;class a{}return(t=a).\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,c.u5,c.UX,i.Pc,d.Bz.forChild(w)]}),a})()}}]);